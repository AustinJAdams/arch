<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml"> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com" rel=preconnect  crossorigin=""> <link rel=stylesheet  href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"> <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="../_static/javascripts/modernizr.js"></script> <title>Time-series Bootstraps &#8212; arch 4.9.1+1.gb1eb519 documentation</title> <link rel=apple-touch-icon  sizes=180x180  href="../_static/images/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="../_static/images/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="../_static/images/favicon-16x16.png"> <link rel=manifest  href="../_static/images/site.webmanifest"> <link rel=mask-icon  href="../_static/images/safari-pinned-tab.svg" color="#2196f3"> <meta name=msapplication-TileColor  content="#2b5797"> <meta name=msapplication-config  content="../_static/images/browserconfig.xml"> <link rel=stylesheet  href="../_static/material.css" type="text/css" /> <link rel=stylesheet  href="../_static/pygments.css" type="text/css" /> <script type="text/javascript" id=documentation_options  data-url_root="../" src="../_static/documentation_options.js"></script> <script type="text/javascript" src="../_static/jquery.js"></script> <script type="text/javascript" src="../_static/underscore.js"></script> <script type="text/javascript" src="../_static/doctools.js"></script> <script type="text/javascript" src="../_static/language_data.js"></script> <script async=async  type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script> <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script> <link rel="shortcut icon" href="../_static/favicon.ico"/> <link rel=index  title=Index  href="../genindex.html" /> <link rel=search  title=Search  href="../search.html" /> <link rel=next  title=References  href=background.html  /> <link rel=prev  title="Independent, Identical Distributed Data (i.i.d.)" href=iid-bootstraps.html  /> <body dir=ltr data-md-color-primary=blue data-md-color-accent=indigo> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github > <path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"></path> </svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#bootstrap/timeseries-bootstraps" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class=md-flex > <div class="md-flex__cell md-flex__cell--shrink"> <a href="../index.html" title="arch 4.9.1+1.gb1eb519 documentation" class="md-header-nav__button md-logo"> <img src="../_static/bw-logo.svg" height=26  alt="arch 4.9.1+1.gb1eb519 documentation logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >arch 4.9.1 (+1)</span> <span class=md-header-nav__topic > Time-series Bootstraps </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../search.html" method=GET  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source > <a href="https://github.com/bashtage/arch/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > ARCH </div> </a> </div> </div> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href=bootstrap.html  class=md-tabs__link >Bootstrapping</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../index.html" title="arch 4.9.1+1.gb1eb519 documentation" class="md-nav__button md-logo"> <img src="../_static/bw-logo.svg" alt=" logo" width=48  height=48 > </a> <a href="../index.html" title="arch 4.9.1+1.gb1eb519 documentation">arch 4.9.1 (+1)</a> </label> <div class=md-nav__source > <a href="https://github.com/bashtage/arch/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > ARCH </div> </a> </div> <ul class=md-nav__list > <li class=md-nav__item > <a href="../univariate/univariate.html" class=md-nav__link >Univariate Volatility Models</a> <li class=md-nav__item > <a href=bootstrap.html  class=md-nav__link >Bootstrapping</a> <ul class=md-nav__list > <li class=md-nav__item > <a href=bootstrap_examples.html  class=md-nav__link >Examples</a> <li class=md-nav__item > <a href=confidence-intervals.html  class=md-nav__link >Confidence Interval Construction</a> <li class=md-nav__item > <a href=parameter-covariance-estimation.html  class=md-nav__link >Parameter Covariance Estimation</a> <li class=md-nav__item > <a href=low-level-interface.html  class=md-nav__link >Low-level Interface</a> <li class=md-nav__item > <a href=semiparametric-parametric-bootstrap.html  class=md-nav__link >Semiparametric Bootstraps</a> <li class=md-nav__item > <a href="semiparametric-parametric-bootstrap.html#parametric-bootstraps" class=md-nav__link >Parametric Bootstraps</a> <li class=md-nav__item > <a href=iid-bootstraps.html  class=md-nav__link >Independent, Identical Distributed Data (i.i.d.)</a> <li class=md-nav__item > <a href="iid-bootstraps.html#independent-samples" class=md-nav__link >Independent Samples</a> <li class=md-nav__item > <input class="md-toggle md-nav__toggle" data-md-toggle=toc  type=checkbox  id=__toc > <label class="md-nav__link md-nav__link--active" for=__toc > Bootstraps for Time-series Data </label> <a href="#" class="md-nav__link md-nav__link--active">Bootstraps for Time-series Data</a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#bootstrap-timeseries-bootstraps--page-root" class=md-nav__link >Time-series Bootstraps</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#the-stationary-bootstrap" class=md-nav__link >The Stationary Bootstrap</a> <li class=md-nav__item ><a href="#the-circular-block-bootstrap" class=md-nav__link >The Circular Block Bootstrap</a> <li class=md-nav__item ><a href="#the-moving-block-bootstrap" class=md-nav__link >The Moving Block Bootstrap</a> </ul> </nav> </ul> </nav> <li class=md-nav__item > <a href=background.html  class=md-nav__link >Background and References</a> </ul> <li class=md-nav__item > <a href="../multiple-comparison/multiple-comparisons.html" class=md-nav__link >Multiple Comparison Problems</a> <li class=md-nav__item > <a href="../unitroot/unitroot.html" class=md-nav__link >Unit Root Tests</a> <li class=md-nav__item > <a href="../changes.html" class=md-nav__link >Change Log</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#bootstrap-timeseries-bootstraps--page-root" class=md-nav__link >Time-series Bootstraps</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#the-stationary-bootstrap" class=md-nav__link >The Stationary Bootstrap</a> <li class=md-nav__item ><a href="#the-circular-block-bootstrap" class=md-nav__link >The Circular Block Bootstrap</a> <li class=md-nav__item ><a href="#the-moving-block-bootstrap" class=md-nav__link >The Moving Block Bootstrap</a> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <h1 id=bootstrap-timeseries-bootstraps--page-root >Time-series Bootstraps<a class=headerlink  href="#bootstrap-timeseries-bootstraps--page-root" title="Permalink to this headline">¶</a></h1> <p>Bootstraps for time-series data come in a variety of forms. The three contained in this package are the stationary bootstrap (<a class="reference internal" href="#arch.bootstrap.StationaryBootstrap" title=arch.bootstrap.StationaryBootstrap ><code class="xref py py-class docutils literal notranslate"><span class=pre >StationaryBootstrap</span></code></a>), which uses blocks with an exponentially distributed lengths, the circular block bootstrap (<a class="reference internal" href="#arch.bootstrap.CircularBlockBootstrap" title=arch.bootstrap.CircularBlockBootstrap ><code class="xref py py-class docutils literal notranslate"><span class=pre >CircularBlockBootstrap</span></code></a>), which uses fixed length blocks, and the moving block bootstrap which also uses fixed length blocks (<a class="reference internal" href="#arch.bootstrap.MovingBlockBootstrap" title=arch.bootstrap.MovingBlockBootstrap ><code class="xref py py-class docutils literal notranslate"><span class=pre >MovingBlockBootstrap</span></code></a>). The moving block bootstrap does <em>not</em> wrap around and so observations near the start or end of the series will be systematically under-sampled. It is not recommended for this reason.</p> <h2 id=the-stationary-bootstrap >The Stationary Bootstrap<a class=headerlink  href="#the-stationary-bootstrap" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.bootstrap.StationaryBootstrap > <em class=property >class </em><code class="sig-prename descclassname">arch.bootstrap.</code><code class="sig-name descname">StationaryBootstrap</code><span class=sig-paren >(</span><em class=sig-param >block_size</em>, <em class=sig-param >*args</em>, <em class=sig-param >**kwargs</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/bootstrap/base.html#StationaryBootstrap"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap" title="Permalink to this definition">¶</a> <dd><p>Politis and Romano (1994) bootstrap with expon. distributed block sizes</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>block_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Average size of block to use</p> <li><p><strong>args</strong> -- Positional arguments to bootstrap</p> <li><p><strong>kwargs</strong> -- Keyword arguments to bootstrap</p> </ul> </dl> <dl class=attribute > <dt id=arch.bootstrap.StationaryBootstrap.index > <code class="sig-name descname">index</code><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.index" title="Permalink to this definition">¶</a> <dd><p>The current index of the bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.StationaryBootstrap.data > <code class="sig-name descname">data</code><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.data" title="Permalink to this definition">¶</a> <dd><p>Two-element tuple with the pos_data in the first position and kw_data in the second (pos_data, kw_data)</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.StationaryBootstrap.pos_data > <code class="sig-name descname">pos_data</code><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.pos_data" title="Permalink to this definition">¶</a> <dd><p>Tuple containing the positional arguments (in the order entered)</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.StationaryBootstrap.kw_data > <code class="sig-name descname">kw_data</code><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.kw_data" title="Permalink to this definition">¶</a> <dd><p>Dictionary containing the keyword arguments</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.StationaryBootstrap.random_state > <code class="sig-name descname">random_state</code><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.random_state" title="Permalink to this definition">¶</a> <dd><p>RandomState instance used by bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>RandomState</p> </dl> </dl> <p class=rubric >Notes</p> <p>Supports numpy arrays and pandas Series and DataFrames. Data returned has the same type as the input date.</p> <p>Data entered using keyword arguments is directly accessibly as an attribute.</p> <p>To ensure a reproducible bootstrap, you must set the <code class="docutils literal notranslate"><span class=pre >random_state</span></code> attribute after the bootstrap has been created. See the example below. Note that <code class="docutils literal notranslate"><span class=pre >random_state</span></code> is a reserved keyword and any variable passed using this keyword must be an instance of <code class="docutils literal notranslate"><span class=pre >RandomState</span></code>.</p> <p class=rubric >Examples</p> <p>Data can be accessed in a number of ways. Positional data is retained in the same order as it was entered when the bootstrap was initialized. Keyword data is available both as an attribute or using a dictionary syntax on kw_data.</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >StationaryBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >numpy.random</span> <span class=k >import</span> <span class=n >standard_normal</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >((</span><span class=mi >500</span><span class=p >,</span> <span class=mi >1</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >((</span><span class=mi >500</span><span class=p >,</span><span class=mi >2</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >z</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >(</span><span class=mi >500</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >StationaryBootstrap</span><span class=p >(</span><span class=mi >12</span><span class=p >,</span> <span class=n >x</span><span class=p >,</span> <span class=n >y</span><span class=o >=</span><span class=n >y</span><span class=p >,</span> <span class=n >z</span><span class=o >=</span><span class=n >z</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >for</span> <span class=n >data</span> <span class=ow >in</span> <span class=n >bs</span><span class=o >.</span><span class=n >bootstrap</span><span class=p >(</span><span class=mi >100</span><span class=p >):</span>
<span class=gp >... </span>    <span class=n >bs_x</span> <span class=o >=</span> <span class=n >data</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >0</span><span class=p >]</span>
<span class=gp >... </span>    <span class=n >bs_y</span> <span class=o >=</span> <span class=n >data</span><span class=p >[</span><span class=mi >1</span><span class=p >][</span><span class=s1 >'y'</span><span class=p >]</span>
<span class=gp >... </span>    <span class=n >bs_z</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >z</span>
</pre></div> </div> <p>Set the random_state if reproducibility is required</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >numpy.random</span> <span class=k >import</span> <span class=n >RandomState</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >rs</span> <span class=o >=</span> <span class=n >RandomState</span><span class=p >(</span><span class=mi >1234</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >StationaryBootstrap</span><span class=p >(</span><span class=mi >12</span><span class=p >,</span> <span class=n >x</span><span class=p >,</span> <span class=n >y</span><span class=o >=</span><span class=n >y</span><span class=p >,</span> <span class=n >z</span><span class=o >=</span><span class=n >z</span><span class=p >,</span> <span class=n >random_state</span><span class=o >=</span><span class=n >rs</span><span class=p >)</span>
</pre></div> </div> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.apply > <code class="sig-name descname">apply</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.apply" title="Permalink to this definition">¶</a> <dd><p>Applies a function to bootstrap replicated data</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Function the computes parameter values. See Notes for requirements</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Extra keyword arguments to use when calling func. Must not conflict with keyword arguments used to initialize bootstrap</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- reps by nparam array of computed function values where each row corresponds to a bootstrap iteration</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>When there are no extra keyword arguments, the function is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where args and kwargs are the bootstrap version of the data provided when setting up the bootstrap. When extra keyword arguments are used, these are appended to kwargs before calling func</p> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span><span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >x</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >y</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >y</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >results</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >apply</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >100</span><span class=p >)</span>
</pre></div> </div> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.bootstrap > <code class="sig-name descname">bootstrap</code><span class=sig-paren >(</span><em class=sig-param >reps</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.bootstrap" title="Permalink to this definition">¶</a> <dd><p>Iterator for use when bootstrapping</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of bootstrap replications</p> <dt class=field-even >Returns <dd class=field-even ><p><strong>gen</strong> -- Generator to iterate over in bootstrap calculations</p> <dt class=field-odd >Return type <dd class=field-odd ><p>generator</p> </dl> <p class=rubric >Example</p> <p>The key steps are problem dependent and so this example shows the use as an iterator that does not produce any output</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >np</span><span class=o >.</span><span class=n >arange</span><span class=p >(</span><span class=mi >100</span><span class=p >),</span> <span class=n >x</span><span class=o >=</span><span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >for</span> <span class=n >posdata</span><span class=p >,</span> <span class=n >kwdata</span> <span class=ow >in</span> <span class=n >bs</span><span class=o >.</span><span class=n >bootstrap</span><span class=p >(</span><span class=mi >1000</span><span class=p >):</span>
<span class=gp >... </span>    <span class=c1 ># Do something with the positional data and/or keyword data</span>
<span class=gp >... </span>    <span class=k >pass</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> <p class=rubric >Notes</p> <p>The iterator returns a tuple containing the data entered in positional arguments as a tuple and the data entered using keywords as a dictionary</p> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.conf_int > <code class="sig-name descname">conf_int</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >method='basic'</em>, <em class=sig-param >size=0.95</em>, <em class=sig-param >tail='two'</em>, <em class=sig-param >extra_kwargs=None</em>, <em class=sig-param >reuse=False</em>, <em class=sig-param >sampling='nonparametric'</em>, <em class=sig-param >std_err_func=None</em>, <em class=sig-param >studentize_reps=1000</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.conf_int" title="Permalink to this definition">¶</a> <dd><dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Function the computes parameter values. See Notes for requirements</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>method</strong> (<em>string</em><em>, </em><em>optional</em>) -- One of 'basic', 'percentile', 'studentized', 'norm' (identical to 'var', 'cov'), 'bc' (identical to 'debiased', 'bias-corrected'), or 'bca'</p> <li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Coverage of confidence interval</p> <li><p><strong>tail</strong> (<em>string</em><em>, </em><em>optional</em>) -- One of 'two', 'upper' or 'lower'.</p> <li><p><strong>reuse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to reuse previously computed bootstrap results. This allows alternative methods to be compared without rerunning the bootstrap simulation. Reuse is ignored if reps is not the same across multiple runs, func changes across calls, or method is 'studentized'.</p> <li><p><strong>sampling</strong> (<em>string</em><em>, </em><em>optional</em>) -- Type of sampling to use: 'nonparametric', 'semi-parametric' (or 'semi') or 'parametric'. The default is 'nonparametric'. See notes about the changes to func required when using 'semi' or 'parametric'.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Extra keyword arguments to use when calling func and std_err_func, when appropriate</p> <li><p><strong>std_err_func</strong> (<em>callable</em><em>, </em><em>optional</em>) -- Function to use when standardizing estimated parameters when using the studentized bootstrap. Providing an analytical function eliminates the need for a nested bootstrap</p> <li><p><strong>studentize_reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstraps to use in the inner bootstrap when using the studentized bootstrap. Ignored when <code class="docutils literal notranslate"><span class=pre >std_err_func</span></code> is provided</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>intervals</strong> -- Computed confidence interval. Row 0 contains the lower bounds, and row 1 contains the upper bounds. Each column corresponds to a parameter. When tail is 'lower', all upper bounds are inf. Similarly, 'upper' sets all lower bounds to -inf.</p> <dt class=field-odd >Return type <dd class=field-odd ><p>2-d array</p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >ci</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >conf_int</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>When there are no extra keyword arguments, the function is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where args and kwargs are the bootstrap version of the data provided when setting up the bootstrap. When extra keyword arguments are used, these are appended to kwargs before calling func.</p> <p>The standard error function, if provided, must return a vector of parameter standard errors and is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >std_err_func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where <code class="docutils literal notranslate"><span class=pre >params</span></code> is the vector of estimated parameters using the same bootstrap data as in args and kwargs.</p> <p>The bootstraps are:</p> <ul class=simple > <li><p>'basic' - Basic confidence using the estimated parameter and difference between the estimated parameter and the bootstrap parameters</p> <li><p>'percentile' - Direct use of bootstrap percentiles</p> <li><p>'norm' - Makes use of normal approximation and bootstrap covariance estimator</p> <li><p>'studentized' - Uses either a standard error function or a nested bootstrap to estimate percentiles and the bootstrap covariance for scale</p> <li><p>'bc' - Bias corrected using estimate bootstrap bias correction</p> <li><p>'bca' - Bias corrected and accelerated, adding acceleration parameter to 'bc' method</p> </ul> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.cov > <code class="sig-name descname">cov</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >recenter=True</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.cov" title="Permalink to this definition">¶</a> <dd><p>Compute parameter covariance using bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Callable function that returns the statistic of interest as a 1-d array</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>recenter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Whether to center the bootstrap variance estimator on the average of the bootstrap samples (True) or to center on the original sample estimate (False). Default is True.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Dictionary of extra keyword arguments to pass to func</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>cov</strong> -- Bootstrap covariance estimator</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>func must have the signature</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are data used in the the bootstrap. The first argument, params, will be none when called using the original data, and will contain the estimate computed using the original data in bootstrap replications. This parameter is passed to allow parametric bootstrap simulation.</p> <p class=rubric >Example</p> <p>Bootstrap covariance of the mean</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >3</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cov</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >cov</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Bootstrap covariance using a function that takes additional input</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >stat</span><span class=o >=</span><span class=s1 >'mean'</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >if</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'mean'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >... </span>    <span class=k >elif</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'var'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cov</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >cov</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >,</span> <span class=n >extra_kwargs</span><span class=o >=</span><span class=p >{</span><span class=s1 >'stat'</span><span class=p >:</span><span class=s1 >'var'</span><span class=p >})</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.get_state > <code class="sig-name descname">get_state</code><span class=sig-paren >(</span><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.get_state" title="Permalink to this definition">¶</a> <dd><p>Gets the state of the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Returns <dd class=field-odd ><p><strong>state</strong> -- Array containing the state</p> <dt class=field-even >Return type <dd class=field-even ><p>RandomState state vector</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.reset > <code class="sig-name descname">reset</code><span class=sig-paren >(</span><em class=sig-param >use_seed=True</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.reset" title="Permalink to this definition">¶</a> <dd><p>Resets the bootstrap to either its initial state or the last seed.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>use_seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to use the last seed if provided. If False or if no seed has been set, the bootstrap will be reset to the initial state. Default is True</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.seed > <code class="sig-name descname">seed</code><span class=sig-paren >(</span><em class=sig-param >value</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.seed" title="Permalink to this definition">¶</a> <dd><p>Seeds the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Integer to use as the seed</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.set_state > <code class="sig-name descname">set_state</code><span class=sig-paren >(</span><em class=sig-param >state</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.set_state" title="Permalink to this definition">¶</a> <dd><p>Sets the state of the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>state</strong> (<em>RandomState state vector</em>) -- Array containing the state</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.StationaryBootstrap.var > <code class="sig-name descname">var</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >recenter=True</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.StationaryBootstrap.var" title="Permalink to this definition">¶</a> <dd><p>Compute parameter variance using bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Callable function that returns the statistic of interest as a 1-d array</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>recenter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Whether to center the bootstrap variance estimator on the average of the bootstrap samples (True) or to center on the original sample estimate (False). Default is True.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Dictionary of extra keyword arguments to pass to func</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>var</strong> -- Bootstrap variance estimator</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>func must have the signature</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are data used in the the bootstrap. The first argument, params, will be none when called using the original data, and will contain the estimate computed using the original data in bootstrap replications. This parameter is passed to allow parametric bootstrap simulation.</p> <p class=rubric >Example</p> <p>Bootstrap covariance of the mean</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >3</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >variances</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Bootstrap covariance using a function that takes additional input</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >stat</span><span class=o >=</span><span class=s1 >'mean'</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >if</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'mean'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >... </span>    <span class=k >elif</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'var'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >variances</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >,</span> <span class=n >extra_kwargs</span><span class=o >=</span><span class=p >{</span><span class=s1 >'stat'</span><span class=p >:</span> <span class=s1 >'var'</span><span class=p >})</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> </dl> </dl> <h2 id=the-circular-block-bootstrap >The Circular Block Bootstrap<a class=headerlink  href="#the-circular-block-bootstrap" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.bootstrap.CircularBlockBootstrap > <em class=property >class </em><code class="sig-prename descclassname">arch.bootstrap.</code><code class="sig-name descname">CircularBlockBootstrap</code><span class=sig-paren >(</span><em class=sig-param >block_size</em>, <em class=sig-param >*args</em>, <em class=sig-param >**kwargs</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/bootstrap/base.html#CircularBlockBootstrap"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap" title="Permalink to this definition">¶</a> <dd><p>Bootstrap based on blocks of the same length with end-to-start wrap around</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>block_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Size of block to use</p> <li><p><strong>args</strong> -- Positional arguments to bootstrap</p> <li><p><strong>kwargs</strong> -- Keyword arguments to bootstrap</p> </ul> </dl> <dl class=attribute > <dt id=arch.bootstrap.CircularBlockBootstrap.index > <code class="sig-name descname">index</code><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.index" title="Permalink to this definition">¶</a> <dd><p>The current index of the bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.CircularBlockBootstrap.data > <code class="sig-name descname">data</code><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.data" title="Permalink to this definition">¶</a> <dd><p>Two-element tuple with the pos_data in the first position and kw_data in the second (pos_data, kw_data)</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.CircularBlockBootstrap.pos_data > <code class="sig-name descname">pos_data</code><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.pos_data" title="Permalink to this definition">¶</a> <dd><p>Tuple containing the positional arguments (in the order entered)</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.CircularBlockBootstrap.kw_data > <code class="sig-name descname">kw_data</code><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.kw_data" title="Permalink to this definition">¶</a> <dd><p>Dictionary containing the keyword arguments</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.CircularBlockBootstrap.random_state > <code class="sig-name descname">random_state</code><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.random_state" title="Permalink to this definition">¶</a> <dd><p>RandomState instance used by bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>RandomState</p> </dl> </dl> <p class=rubric >Notes</p> <p>Supports numpy arrays and pandas Series and DataFrames. Data returned has the same type as the input date.</p> <p>Data entered using keyword arguments is directly accessibly as an attribute.</p> <p>To ensure a reproducible bootstrap, you must set the <code class="docutils literal notranslate"><span class=pre >random_state</span></code> attribute after the bootstrap has been created. See the example below. Note that <code class="docutils literal notranslate"><span class=pre >random_state</span></code> is a reserved keyword and any variable passed using this keyword must be an instance of <code class="docutils literal notranslate"><span class=pre >RandomState</span></code>.</p> <p class=rubric >Examples</p> <p>Data can be accessed in a number of ways. Positional data is retained in the same order as it was entered when the bootstrap was initialized. Keyword data is available both as an attribute or using a dictionary syntax on kw_data.</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >CircularBlockBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >numpy.random</span> <span class=k >import</span> <span class=n >standard_normal</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >((</span><span class=mi >500</span><span class=p >,</span> <span class=mi >1</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >((</span><span class=mi >500</span><span class=p >,</span> <span class=mi >2</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >z</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >(</span><span class=mi >500</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >CircularBlockBootstrap</span><span class=p >(</span><span class=mi >17</span><span class=p >,</span> <span class=n >x</span><span class=p >,</span> <span class=n >y</span><span class=o >=</span><span class=n >y</span><span class=p >,</span> <span class=n >z</span><span class=o >=</span><span class=n >z</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >for</span> <span class=n >data</span> <span class=ow >in</span> <span class=n >bs</span><span class=o >.</span><span class=n >bootstrap</span><span class=p >(</span><span class=mi >100</span><span class=p >):</span>
<span class=gp >... </span>    <span class=n >bs_x</span> <span class=o >=</span> <span class=n >data</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >0</span><span class=p >]</span>
<span class=gp >... </span>    <span class=n >bs_y</span> <span class=o >=</span> <span class=n >data</span><span class=p >[</span><span class=mi >1</span><span class=p >][</span><span class=s1 >'y'</span><span class=p >]</span>
<span class=gp >... </span>    <span class=n >bs_z</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >z</span>
</pre></div> </div> <p>Set the random_state if reproducibility is required</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >numpy.random</span> <span class=k >import</span> <span class=n >RandomState</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >rs</span> <span class=o >=</span> <span class=n >RandomState</span><span class=p >(</span><span class=mi >1234</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >CircularBlockBootstrap</span><span class=p >(</span><span class=mi >17</span><span class=p >,</span> <span class=n >x</span><span class=p >,</span> <span class=n >y</span><span class=o >=</span><span class=n >y</span><span class=p >,</span> <span class=n >z</span><span class=o >=</span><span class=n >z</span><span class=p >,</span> <span class=n >random_state</span><span class=o >=</span><span class=n >rs</span><span class=p >)</span>
</pre></div> </div> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.apply > <code class="sig-name descname">apply</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.apply" title="Permalink to this definition">¶</a> <dd><p>Applies a function to bootstrap replicated data</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Function the computes parameter values. See Notes for requirements</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Extra keyword arguments to use when calling func. Must not conflict with keyword arguments used to initialize bootstrap</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- reps by nparam array of computed function values where each row corresponds to a bootstrap iteration</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>When there are no extra keyword arguments, the function is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where args and kwargs are the bootstrap version of the data provided when setting up the bootstrap. When extra keyword arguments are used, these are appended to kwargs before calling func</p> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span><span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >x</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >y</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >y</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >results</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >apply</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >100</span><span class=p >)</span>
</pre></div> </div> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.bootstrap > <code class="sig-name descname">bootstrap</code><span class=sig-paren >(</span><em class=sig-param >reps</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.bootstrap" title="Permalink to this definition">¶</a> <dd><p>Iterator for use when bootstrapping</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of bootstrap replications</p> <dt class=field-even >Returns <dd class=field-even ><p><strong>gen</strong> -- Generator to iterate over in bootstrap calculations</p> <dt class=field-odd >Return type <dd class=field-odd ><p>generator</p> </dl> <p class=rubric >Example</p> <p>The key steps are problem dependent and so this example shows the use as an iterator that does not produce any output</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >np</span><span class=o >.</span><span class=n >arange</span><span class=p >(</span><span class=mi >100</span><span class=p >),</span> <span class=n >x</span><span class=o >=</span><span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >for</span> <span class=n >posdata</span><span class=p >,</span> <span class=n >kwdata</span> <span class=ow >in</span> <span class=n >bs</span><span class=o >.</span><span class=n >bootstrap</span><span class=p >(</span><span class=mi >1000</span><span class=p >):</span>
<span class=gp >... </span>    <span class=c1 ># Do something with the positional data and/or keyword data</span>
<span class=gp >... </span>    <span class=k >pass</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> <p class=rubric >Notes</p> <p>The iterator returns a tuple containing the data entered in positional arguments as a tuple and the data entered using keywords as a dictionary</p> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.conf_int > <code class="sig-name descname">conf_int</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >method='basic'</em>, <em class=sig-param >size=0.95</em>, <em class=sig-param >tail='two'</em>, <em class=sig-param >extra_kwargs=None</em>, <em class=sig-param >reuse=False</em>, <em class=sig-param >sampling='nonparametric'</em>, <em class=sig-param >std_err_func=None</em>, <em class=sig-param >studentize_reps=1000</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.conf_int" title="Permalink to this definition">¶</a> <dd><dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Function the computes parameter values. See Notes for requirements</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>method</strong> (<em>string</em><em>, </em><em>optional</em>) -- One of 'basic', 'percentile', 'studentized', 'norm' (identical to 'var', 'cov'), 'bc' (identical to 'debiased', 'bias-corrected'), or 'bca'</p> <li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Coverage of confidence interval</p> <li><p><strong>tail</strong> (<em>string</em><em>, </em><em>optional</em>) -- One of 'two', 'upper' or 'lower'.</p> <li><p><strong>reuse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to reuse previously computed bootstrap results. This allows alternative methods to be compared without rerunning the bootstrap simulation. Reuse is ignored if reps is not the same across multiple runs, func changes across calls, or method is 'studentized'.</p> <li><p><strong>sampling</strong> (<em>string</em><em>, </em><em>optional</em>) -- Type of sampling to use: 'nonparametric', 'semi-parametric' (or 'semi') or 'parametric'. The default is 'nonparametric'. See notes about the changes to func required when using 'semi' or 'parametric'.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Extra keyword arguments to use when calling func and std_err_func, when appropriate</p> <li><p><strong>std_err_func</strong> (<em>callable</em><em>, </em><em>optional</em>) -- Function to use when standardizing estimated parameters when using the studentized bootstrap. Providing an analytical function eliminates the need for a nested bootstrap</p> <li><p><strong>studentize_reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstraps to use in the inner bootstrap when using the studentized bootstrap. Ignored when <code class="docutils literal notranslate"><span class=pre >std_err_func</span></code> is provided</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>intervals</strong> -- Computed confidence interval. Row 0 contains the lower bounds, and row 1 contains the upper bounds. Each column corresponds to a parameter. When tail is 'lower', all upper bounds are inf. Similarly, 'upper' sets all lower bounds to -inf.</p> <dt class=field-odd >Return type <dd class=field-odd ><p>2-d array</p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >ci</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >conf_int</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>When there are no extra keyword arguments, the function is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where args and kwargs are the bootstrap version of the data provided when setting up the bootstrap. When extra keyword arguments are used, these are appended to kwargs before calling func.</p> <p>The standard error function, if provided, must return a vector of parameter standard errors and is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >std_err_func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where <code class="docutils literal notranslate"><span class=pre >params</span></code> is the vector of estimated parameters using the same bootstrap data as in args and kwargs.</p> <p>The bootstraps are:</p> <ul class=simple > <li><p>'basic' - Basic confidence using the estimated parameter and difference between the estimated parameter and the bootstrap parameters</p> <li><p>'percentile' - Direct use of bootstrap percentiles</p> <li><p>'norm' - Makes use of normal approximation and bootstrap covariance estimator</p> <li><p>'studentized' - Uses either a standard error function or a nested bootstrap to estimate percentiles and the bootstrap covariance for scale</p> <li><p>'bc' - Bias corrected using estimate bootstrap bias correction</p> <li><p>'bca' - Bias corrected and accelerated, adding acceleration parameter to 'bc' method</p> </ul> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.cov > <code class="sig-name descname">cov</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >recenter=True</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.cov" title="Permalink to this definition">¶</a> <dd><p>Compute parameter covariance using bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Callable function that returns the statistic of interest as a 1-d array</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>recenter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Whether to center the bootstrap variance estimator on the average of the bootstrap samples (True) or to center on the original sample estimate (False). Default is True.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Dictionary of extra keyword arguments to pass to func</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>cov</strong> -- Bootstrap covariance estimator</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>func must have the signature</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are data used in the the bootstrap. The first argument, params, will be none when called using the original data, and will contain the estimate computed using the original data in bootstrap replications. This parameter is passed to allow parametric bootstrap simulation.</p> <p class=rubric >Example</p> <p>Bootstrap covariance of the mean</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >3</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cov</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >cov</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Bootstrap covariance using a function that takes additional input</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >stat</span><span class=o >=</span><span class=s1 >'mean'</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >if</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'mean'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >... </span>    <span class=k >elif</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'var'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cov</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >cov</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >,</span> <span class=n >extra_kwargs</span><span class=o >=</span><span class=p >{</span><span class=s1 >'stat'</span><span class=p >:</span><span class=s1 >'var'</span><span class=p >})</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.get_state > <code class="sig-name descname">get_state</code><span class=sig-paren >(</span><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.get_state" title="Permalink to this definition">¶</a> <dd><p>Gets the state of the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Returns <dd class=field-odd ><p><strong>state</strong> -- Array containing the state</p> <dt class=field-even >Return type <dd class=field-even ><p>RandomState state vector</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.reset > <code class="sig-name descname">reset</code><span class=sig-paren >(</span><em class=sig-param >use_seed=True</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.reset" title="Permalink to this definition">¶</a> <dd><p>Resets the bootstrap to either its initial state or the last seed.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>use_seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to use the last seed if provided. If False or if no seed has been set, the bootstrap will be reset to the initial state. Default is True</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.seed > <code class="sig-name descname">seed</code><span class=sig-paren >(</span><em class=sig-param >value</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.seed" title="Permalink to this definition">¶</a> <dd><p>Seeds the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Integer to use as the seed</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.set_state > <code class="sig-name descname">set_state</code><span class=sig-paren >(</span><em class=sig-param >state</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.set_state" title="Permalink to this definition">¶</a> <dd><p>Sets the state of the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>state</strong> (<em>RandomState state vector</em>) -- Array containing the state</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.CircularBlockBootstrap.var > <code class="sig-name descname">var</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >recenter=True</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.CircularBlockBootstrap.var" title="Permalink to this definition">¶</a> <dd><p>Compute parameter variance using bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Callable function that returns the statistic of interest as a 1-d array</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>recenter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Whether to center the bootstrap variance estimator on the average of the bootstrap samples (True) or to center on the original sample estimate (False). Default is True.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Dictionary of extra keyword arguments to pass to func</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>var</strong> -- Bootstrap variance estimator</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>func must have the signature</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are data used in the the bootstrap. The first argument, params, will be none when called using the original data, and will contain the estimate computed using the original data in bootstrap replications. This parameter is passed to allow parametric bootstrap simulation.</p> <p class=rubric >Example</p> <p>Bootstrap covariance of the mean</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >3</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >variances</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Bootstrap covariance using a function that takes additional input</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >stat</span><span class=o >=</span><span class=s1 >'mean'</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >if</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'mean'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >... </span>    <span class=k >elif</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'var'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >variances</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >,</span> <span class=n >extra_kwargs</span><span class=o >=</span><span class=p >{</span><span class=s1 >'stat'</span><span class=p >:</span> <span class=s1 >'var'</span><span class=p >})</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> </dl> </dl> <h2 id=the-moving-block-bootstrap >The Moving Block Bootstrap<a class=headerlink  href="#the-moving-block-bootstrap" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.bootstrap.MovingBlockBootstrap > <em class=property >class </em><code class="sig-prename descclassname">arch.bootstrap.</code><code class="sig-name descname">MovingBlockBootstrap</code><span class=sig-paren >(</span><em class=sig-param >block_size</em>, <em class=sig-param >*args</em>, <em class=sig-param >**kwargs</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/bootstrap/base.html#MovingBlockBootstrap"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap" title="Permalink to this definition">¶</a> <dd><p>Bootstrap based on blocks of the same length without wrap around</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>block_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Size of block to use</p> <li><p><strong>args</strong> -- Positional arguments to bootstrap</p> <li><p><strong>kwargs</strong> -- Keyword arguments to bootstrap</p> </ul> </dl> <dl class=attribute > <dt id=arch.bootstrap.MovingBlockBootstrap.index > <code class="sig-name descname">index</code><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.index" title="Permalink to this definition">¶</a> <dd><p>The current index of the bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.MovingBlockBootstrap.data > <code class="sig-name descname">data</code><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.data" title="Permalink to this definition">¶</a> <dd><p>Two-element tuple with the pos_data in the first position and kw_data in the second (pos_data, kw_data)</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.MovingBlockBootstrap.pos_data > <code class="sig-name descname">pos_data</code><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.pos_data" title="Permalink to this definition">¶</a> <dd><p>Tuple containing the positional arguments (in the order entered)</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.MovingBlockBootstrap.kw_data > <code class="sig-name descname">kw_data</code><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.kw_data" title="Permalink to this definition">¶</a> <dd><p>Dictionary containing the keyword arguments</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </dl> </dl> <dl class=attribute > <dt id=arch.bootstrap.MovingBlockBootstrap.random_state > <code class="sig-name descname">random_state</code><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.random_state" title="Permalink to this definition">¶</a> <dd><p>RandomState instance used by bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>RandomState</p> </dl> </dl> <p class=rubric >Notes</p> <p>Supports numpy arrays and pandas Series and DataFrames. Data returned has the same type as the input date.</p> <p>Data entered using keyword arguments is directly accessibly as an attribute.</p> <p>To ensure a reproducible bootstrap, you must set the <code class="docutils literal notranslate"><span class=pre >random_state</span></code> attribute after the bootstrap has been created. See the example below. Note that <code class="docutils literal notranslate"><span class=pre >random_state</span></code> is a reserved keyword and any variable passed using this keyword must be an instance of <code class="docutils literal notranslate"><span class=pre >RandomState</span></code>.</p> <p class=rubric >Examples</p> <p>Data can be accessed in a number of ways. Positional data is retained in the same order as it was entered when the bootstrap was initialized. Keyword data is available both as an attribute or using a dictionary syntax on kw_data.</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >MovingBlockBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >numpy.random</span> <span class=k >import</span> <span class=n >standard_normal</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >((</span><span class=mi >500</span><span class=p >,</span> <span class=mi >1</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >((</span><span class=mi >500</span><span class=p >,</span><span class=mi >2</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >z</span> <span class=o >=</span> <span class=n >standard_normal</span><span class=p >(</span><span class=mi >500</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >MovingBlockBootstrap</span><span class=p >(</span><span class=mi >7</span><span class=p >,</span> <span class=n >x</span><span class=p >,</span> <span class=n >y</span><span class=o >=</span><span class=n >y</span><span class=p >,</span> <span class=n >z</span><span class=o >=</span><span class=n >z</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >for</span> <span class=n >data</span> <span class=ow >in</span> <span class=n >bs</span><span class=o >.</span><span class=n >bootstrap</span><span class=p >(</span><span class=mi >100</span><span class=p >):</span>
<span class=gp >... </span>    <span class=n >bs_x</span> <span class=o >=</span> <span class=n >data</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >0</span><span class=p >]</span>
<span class=gp >... </span>    <span class=n >bs_y</span> <span class=o >=</span> <span class=n >data</span><span class=p >[</span><span class=mi >1</span><span class=p >][</span><span class=s1 >'y'</span><span class=p >]</span>
<span class=gp >... </span>    <span class=n >bs_z</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >z</span>
</pre></div> </div> <p>Set the random_state if reproducibility is required</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >numpy.random</span> <span class=k >import</span> <span class=n >RandomState</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >rs</span> <span class=o >=</span> <span class=n >RandomState</span><span class=p >(</span><span class=mi >1234</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >MovingBlockBootstrap</span><span class=p >(</span><span class=mi >7</span><span class=p >,</span> <span class=n >x</span><span class=p >,</span> <span class=n >y</span><span class=o >=</span><span class=n >y</span><span class=p >,</span> <span class=n >z</span><span class=o >=</span><span class=n >z</span><span class=p >,</span> <span class=n >random_state</span><span class=o >=</span><span class=n >rs</span><span class=p >)</span>
</pre></div> </div> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.apply > <code class="sig-name descname">apply</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.apply" title="Permalink to this definition">¶</a> <dd><p>Applies a function to bootstrap replicated data</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Function the computes parameter values. See Notes for requirements</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Extra keyword arguments to use when calling func. Must not conflict with keyword arguments used to initialize bootstrap</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- reps by nparam array of computed function values where each row corresponds to a bootstrap iteration</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>When there are no extra keyword arguments, the function is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where args and kwargs are the bootstrap version of the data provided when setting up the bootstrap. When extra keyword arguments are used, these are appended to kwargs before calling func</p> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span><span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >x</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >y</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >y</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >results</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >apply</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >100</span><span class=p >)</span>
</pre></div> </div> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.bootstrap > <code class="sig-name descname">bootstrap</code><span class=sig-paren >(</span><em class=sig-param >reps</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.bootstrap" title="Permalink to this definition">¶</a> <dd><p>Iterator for use when bootstrapping</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of bootstrap replications</p> <dt class=field-even >Returns <dd class=field-even ><p><strong>gen</strong> -- Generator to iterate over in bootstrap calculations</p> <dt class=field-odd >Return type <dd class=field-odd ><p>generator</p> </dl> <p class=rubric >Example</p> <p>The key steps are problem dependent and so this example shows the use as an iterator that does not produce any output</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >np</span><span class=o >.</span><span class=n >arange</span><span class=p >(</span><span class=mi >100</span><span class=p >),</span> <span class=n >x</span><span class=o >=</span><span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >for</span> <span class=n >posdata</span><span class=p >,</span> <span class=n >kwdata</span> <span class=ow >in</span> <span class=n >bs</span><span class=o >.</span><span class=n >bootstrap</span><span class=p >(</span><span class=mi >1000</span><span class=p >):</span>
<span class=gp >... </span>    <span class=c1 ># Do something with the positional data and/or keyword data</span>
<span class=gp >... </span>    <span class=k >pass</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> <p class=rubric >Notes</p> <p>The iterator returns a tuple containing the data entered in positional arguments as a tuple and the data entered using keywords as a dictionary</p> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.conf_int > <code class="sig-name descname">conf_int</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >method='basic'</em>, <em class=sig-param >size=0.95</em>, <em class=sig-param >tail='two'</em>, <em class=sig-param >extra_kwargs=None</em>, <em class=sig-param >reuse=False</em>, <em class=sig-param >sampling='nonparametric'</em>, <em class=sig-param >std_err_func=None</em>, <em class=sig-param >studentize_reps=1000</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.conf_int" title="Permalink to this definition">¶</a> <dd><dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Function the computes parameter values. See Notes for requirements</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>method</strong> (<em>string</em><em>, </em><em>optional</em>) -- One of 'basic', 'percentile', 'studentized', 'norm' (identical to 'var', 'cov'), 'bc' (identical to 'debiased', 'bias-corrected'), or 'bca'</p> <li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Coverage of confidence interval</p> <li><p><strong>tail</strong> (<em>string</em><em>, </em><em>optional</em>) -- One of 'two', 'upper' or 'lower'.</p> <li><p><strong>reuse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to reuse previously computed bootstrap results. This allows alternative methods to be compared without rerunning the bootstrap simulation. Reuse is ignored if reps is not the same across multiple runs, func changes across calls, or method is 'studentized'.</p> <li><p><strong>sampling</strong> (<em>string</em><em>, </em><em>optional</em>) -- Type of sampling to use: 'nonparametric', 'semi-parametric' (or 'semi') or 'parametric'. The default is 'nonparametric'. See notes about the changes to func required when using 'semi' or 'parametric'.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Extra keyword arguments to use when calling func and std_err_func, when appropriate</p> <li><p><strong>std_err_func</strong> (<em>callable</em><em>, </em><em>optional</em>) -- Function to use when standardizing estimated parameters when using the studentized bootstrap. Providing an analytical function eliminates the need for a nested bootstrap</p> <li><p><strong>studentize_reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstraps to use in the inner bootstrap when using the studentized bootstrap. Ignored when <code class="docutils literal notranslate"><span class=pre >std_err_func</span></code> is provided</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>intervals</strong> -- Computed confidence interval. Row 0 contains the lower bounds, and row 1 contains the upper bounds. Each column corresponds to a parameter. When tail is 'lower', all upper bounds are inf. Similarly, 'upper' sets all lower bounds to -inf.</p> <dt class=field-odd >Return type <dd class=field-odd ><p>2-d array</p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >ci</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >conf_int</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>When there are no extra keyword arguments, the function is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where args and kwargs are the bootstrap version of the data provided when setting up the bootstrap. When extra keyword arguments are used, these are appended to kwargs before calling func.</p> <p>The standard error function, if provided, must return a vector of parameter standard errors and is called</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >std_err_func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where <code class="docutils literal notranslate"><span class=pre >params</span></code> is the vector of estimated parameters using the same bootstrap data as in args and kwargs.</p> <p>The bootstraps are:</p> <ul class=simple > <li><p>'basic' - Basic confidence using the estimated parameter and difference between the estimated parameter and the bootstrap parameters</p> <li><p>'percentile' - Direct use of bootstrap percentiles</p> <li><p>'norm' - Makes use of normal approximation and bootstrap covariance estimator</p> <li><p>'studentized' - Uses either a standard error function or a nested bootstrap to estimate percentiles and the bootstrap covariance for scale</p> <li><p>'bc' - Bias corrected using estimate bootstrap bias correction</p> <li><p>'bca' - Bias corrected and accelerated, adding acceleration parameter to 'bc' method</p> </ul> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.cov > <code class="sig-name descname">cov</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >recenter=True</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.cov" title="Permalink to this definition">¶</a> <dd><p>Compute parameter covariance using bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Callable function that returns the statistic of interest as a 1-d array</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>recenter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Whether to center the bootstrap variance estimator on the average of the bootstrap samples (True) or to center on the original sample estimate (False). Default is True.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Dictionary of extra keyword arguments to pass to func</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>cov</strong> -- Bootstrap covariance estimator</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>func must have the signature</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are data used in the the bootstrap. The first argument, params, will be none when called using the original data, and will contain the estimate computed using the original data in bootstrap replications. This parameter is passed to allow parametric bootstrap simulation.</p> <p class=rubric >Example</p> <p>Bootstrap covariance of the mean</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >3</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cov</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >cov</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Bootstrap covariance using a function that takes additional input</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >stat</span><span class=o >=</span><span class=s1 >'mean'</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >if</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'mean'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >... </span>    <span class=k >elif</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'var'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cov</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >cov</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >,</span> <span class=n >extra_kwargs</span><span class=o >=</span><span class=p >{</span><span class=s1 >'stat'</span><span class=p >:</span><span class=s1 >'var'</span><span class=p >})</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.get_state > <code class="sig-name descname">get_state</code><span class=sig-paren >(</span><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.get_state" title="Permalink to this definition">¶</a> <dd><p>Gets the state of the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Returns <dd class=field-odd ><p><strong>state</strong> -- Array containing the state</p> <dt class=field-even >Return type <dd class=field-even ><p>RandomState state vector</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.reset > <code class="sig-name descname">reset</code><span class=sig-paren >(</span><em class=sig-param >use_seed=True</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.reset" title="Permalink to this definition">¶</a> <dd><p>Resets the bootstrap to either its initial state or the last seed.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>use_seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to use the last seed if provided. If False or if no seed has been set, the bootstrap will be reset to the initial state. Default is True</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.seed > <code class="sig-name descname">seed</code><span class=sig-paren >(</span><em class=sig-param >value</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.seed" title="Permalink to this definition">¶</a> <dd><p>Seeds the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Integer to use as the seed</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.set_state > <code class="sig-name descname">set_state</code><span class=sig-paren >(</span><em class=sig-param >state</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.set_state" title="Permalink to this definition">¶</a> <dd><p>Sets the state of the bootstrap's random number generator</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><p><strong>state</strong> (<em>RandomState state vector</em>) -- Array containing the state</p> </dl> </dl> <dl class=method > <dt id=arch.bootstrap.MovingBlockBootstrap.var > <code class="sig-name descname">var</code><span class=sig-paren >(</span><em class=sig-param >func</em>, <em class=sig-param >reps=1000</em>, <em class=sig-param >recenter=True</em>, <em class=sig-param >extra_kwargs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.bootstrap.MovingBlockBootstrap.var" title="Permalink to this definition">¶</a> <dd><p>Compute parameter variance using bootstrap</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>func</strong> (<em>callable</em>) -- Callable function that returns the statistic of interest as a 1-d array</p> <li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of bootstrap replications</p> <li><p><strong>recenter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Whether to center the bootstrap variance estimator on the average of the bootstrap samples (True) or to center on the original sample estimate (False). Default is True.</p> <li><p><strong>extra_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Dictionary of extra keyword arguments to pass to func</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>var</strong> -- Bootstrap variance estimator</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> <p class=rubric >Notes</p> <p>func must have the signature</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >func</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=o >*</span><span class=n >args</span><span class=p >,</span> <span class=o >**</span><span class=n >kwargs</span><span class=p >)</span>
</pre></div> </div> <p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are data used in the the bootstrap. The first argument, params, will be none when called using the original data, and will contain the estimate computed using the original data in bootstrap replications. This parameter is passed to allow parametric bootstrap simulation.</p> <p class=rubric >Example</p> <p>Bootstrap covariance of the mean</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.bootstrap</span> <span class=k >import</span> <span class=n >IIDBootstrap</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >1000</span><span class=p >,</span> <span class=mi >3</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >bs</span> <span class=o >=</span> <span class=n >IIDBootstrap</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >variances</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Bootstrap covariance using a function that takes additional input</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=k >def</span> <span class=nf >func</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >stat</span><span class=o >=</span><span class=s1 >'mean'</span><span class=p >):</span>
<span class=gp >... </span>    <span class=k >if</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'mean'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >mean</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >... </span>    <span class=k >elif</span> <span class=n >stat</span><span class=o >==</span><span class=s1 >'var'</span><span class=p >:</span>
<span class=gp >... </span>        <span class=k >return</span> <span class=n >x</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >axis</span><span class=o >=</span><span class=mi >0</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >variances</span> <span class=o >=</span> <span class=n >bs</span><span class=o >.</span><span class=n >var</span><span class=p >(</span><span class=n >func</span><span class=p >,</span> <span class=mi >1000</span><span class=p >,</span> <span class=n >extra_kwargs</span><span class=o >=</span><span class=p >{</span><span class=s1 >'stat'</span><span class=p >:</span> <span class=s1 >'var'</span><span class=p >})</span>
</pre></div> </div> <div class="admonition note"> <p class=admonition-title >Note</p> <p>Note this is a generic example and so the class used should be the name of the required bootstrap</p> </div> </dl> </dl> </article> </div> </div> </main> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> <a href=iid-bootstraps.html  title=Material  class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev > <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Previous </span> Independent, Identical Distributed Data (i.i.d.) </span> </div> </a> <a href=background.html  title=Admonition  class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next > <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Next </span> References </span> </div> <div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2019, Kevin Sheppard. </div> Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a></div> </div> </div> </footer> <script src="../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script> </div>