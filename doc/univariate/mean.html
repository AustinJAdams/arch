<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml"> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com" rel=preconnect  crossorigin=""> <link rel=stylesheet  href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"> <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="../_static/javascripts/modernizr.js"></script> <title>Mean Models &#8212; arch 4.9.1+3.g755ae57 documentation</title> <link rel=apple-touch-icon  sizes=180x180  href="../_static/images/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="../_static/images/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="../_static/images/favicon-16x16.png"> <link rel=manifest  href="../_static/images/site.webmanifest"> <link rel=mask-icon  href="../_static/images/safari-pinned-tab.svg" color="#2196f3"> <meta name=msapplication-TileColor  content="#2b5797"> <meta name=msapplication-config  content="../_static/images/browserconfig.xml"> <link rel=stylesheet  href="../_static/material.css" type="text/css" /> <link rel=stylesheet  href="../_static/pygments.css" type="text/css" /> <script type="text/javascript" id=documentation_options  data-url_root="../" src="../_static/documentation_options.js"></script> <script type="text/javascript" src="../_static/jquery.js"></script> <script type="text/javascript" src="../_static/underscore.js"></script> <script type="text/javascript" src="../_static/doctools.js"></script> <script type="text/javascript" src="../_static/language_data.js"></script> <script async=async  type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script> <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script> <link rel="shortcut icon" href="../_static/favicon.ico"/> <link rel=index  title=Index  href="../genindex.html" /> <link rel=search  title=Search  href="../search.html" /> <link rel=next  title="Volatility Processes" href=volatility.html  /> <link rel=prev  title="Volatility Scenarios" href=univariate_volatility_scenarios.html  /> <body dir=ltr data-md-color-primary=blue data-md-color-accent=indigo> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github > <path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"></path> </svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#univariate/mean" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class=md-flex > <div class="md-flex__cell md-flex__cell--shrink"> <a href="../index.html" title="arch 4.9.1+3.g755ae57 documentation" class="md-header-nav__button md-logo"> <img src="../_static/bw-logo.svg" height=26  alt="arch 4.9.1+3.g755ae57 documentation logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >arch 4.9.1 (+3)</span> <span class=md-header-nav__topic > Mean Models </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../search.html" method=GET  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source > <a href="https://github.com/bashtage/arch/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > ARCH </div> </a> </div> </div> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href=univariate.html  class=md-tabs__link >Univariate Volatility Models</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../index.html" title="arch 4.9.1+3.g755ae57 documentation" class="md-nav__button md-logo"> <img src="../_static/bw-logo.svg" alt=" logo" width=48  height=48 > </a> <a href="../index.html" title="arch 4.9.1+3.g755ae57 documentation">arch 4.9.1 (+3)</a> </label> <div class=md-nav__source > <a href="https://github.com/bashtage/arch/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > ARCH </div> </a> </div> <ul class=md-nav__list > <li class=md-nav__item > <a href=univariate.html  class=md-nav__link >Univariate Volatility Models</a> <ul class=md-nav__list > <li class=md-nav__item > <a href=introduction.html  class=md-nav__link >Introduction</a> <li class=md-nav__item > <a href=univariate_volatility_modeling.html  class=md-nav__link >Examples</a> <li class=md-nav__item > <a href=forecasting.html  class=md-nav__link >Forecasting</a> <li class=md-nav__item > <a href=univariate_volatility_forecasting.html  class=md-nav__link >Volatility Forecasting</a> <li class=md-nav__item > <a href="univariate_volatility_forecasting.html#Value-at-Risk-Forecasting" class=md-nav__link >Value-at-Risk Forecasting</a> <li class=md-nav__item > <a href=univariate_volatility_scenarios.html  class=md-nav__link >Forecasting Scenarios</a> <li class=md-nav__item > <input class="md-toggle md-nav__toggle" data-md-toggle=toc  type=checkbox  id=__toc > <label class="md-nav__link md-nav__link--active" for=__toc > Mean Models </label> <a href="#" class="md-nav__link md-nav__link--active">Mean Models</a> <nav class="md-nav md-nav--secondary"> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a class=md-nav__extra_link  href="../_sources/univariate/mean.rst.txt">Show Source</a> </ul> </nav> <li class=md-nav__item > <a href=volatility.html  class=md-nav__link >Volatility Processes</a> <li class=md-nav__item > <a href=univariate_using_fixed_variance.html  class=md-nav__link >Using the Fixed Variance Process</a> <li class=md-nav__item > <a href=distribution.html  class=md-nav__link >Distributions</a> <li class=md-nav__item > <a href=utility.html  class=md-nav__link >Utilities</a> <li class=md-nav__item > <a href=background.html  class=md-nav__link >Background and References</a> </ul> <li class=md-nav__item > <a href="../bootstrap/bootstrap.html" class=md-nav__link >Bootstrapping</a> <li class=md-nav__item > <a href="../multiple-comparison/multiple-comparisons.html" class=md-nav__link >Multiple Comparison Problems</a> <li class=md-nav__item > <a href="../unitroot/unitroot.html" class=md-nav__link >Unit Root Tests</a> <li class=md-nav__item > <a href="../changes.html" class=md-nav__link >Change Log</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a class=md-nav__extra_link  href="../_sources/univariate/mean.rst.txt">Show Source</a> <li id=searchbox  class=md-nav__item > </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <span id=id1 ></span><h1 id=univariate-mean--page-root >Mean Models<a class=headerlink  href="#univariate-mean--page-root" title="Permalink to this headline">¶</a></h1> <p>All ARCH models start by specifying a mean model.</p> <span class=target  id=module-arch.univariate.mean ></span> <h2 id=no-mean >No Mean<a class=headerlink  href="#no-mean" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.univariate.ZeroMean > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.</code><code class="sig-name descname">ZeroMean</code><span class=sig-paren >(</span><em class=sig-param >y=None</em>, <em class=sig-param >hold_back=None</em>, <em class=sig-param >volatility=None</em>, <em class=sig-param >distribution=None</em>, <em class=sig-param >rescale=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#ZeroMean"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.ZeroMean" title="Permalink to this definition">¶</a> <dd><p>Model with zero conditional mean estimation and simulation</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>y</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- nobs element vector containing the dependent variable</p> <li><p><strong>hold_back</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of observations at the start of the sample to exclude when estimating model parameters. Used when comparing models with different lag lengths to estimate on the common sample.</p> <li><p><strong>volatility</strong> (<a class="reference internal" href="volatility.html#arch.univariate.volatility.VolatilityProcess" title=arch.univariate.volatility.VolatilityProcess ><em>VolatilityProcess</em></a><em>, </em><em>optional</em>) -- Volatility process to use in the model</p> <li><p><strong>distribution</strong> (<a class="reference internal" href="distribution.html#arch.univariate.Distribution" title=arch.univariate.Distribution ><em>Distribution</em></a><em>, </em><em>optional</em>) -- Error distribution to use in the model</p> <li><p><strong>rescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to automatically rescale data if the scale of the data is likely to produce convergence issues when estimating model parameters. If False, the model is estimated on the data without transformation. If True, than y is rescaled and the new scale is reported in the estimation results.</p> </ul> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >ZeroMean</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >zm</span> <span class=o >=</span> <span class=n >ZeroMean</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >zm</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The zero mean model is described by</p> <div class="math notranslate nohighlight"> \[y_t = \epsilon_t\]</div> <dl class=method > <dt id=arch.univariate.ZeroMean.fit > <code class="sig-name descname">fit</code><span class=sig-paren >(</span><em class=sig-param >update_freq=1</em>, <em class=sig-param >disp='final'</em>, <em class=sig-param >starting_values=None</em>, <em class=sig-param >cov_type='robust'</em>, <em class=sig-param >show_warning=True</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em>, <em class=sig-param >tol=None</em>, <em class=sig-param >options=None</em>, <em class=sig-param >backcast=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ZeroMean.fit" title="Permalink to this definition">¶</a> <dd><p>Fits the model given a nobs by 1 vector of sigma2 values</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>update_freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Frequency of iteration updates. Output is generated every <cite>update_freq</cite> iterations. Set to 0 to disable iterative output.</p> <li><p><strong>disp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Either 'final' to print optimization result or 'off' to display nothing</p> <li><p><strong>starting_values</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Array of starting values to use. If not provided, starting values are constructed by the model components.</p> <li><p><strong>cov_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Estimation method of parameter covariance. Supported options are 'robust', which does not assume the Information Matrix Equality holds and 'classic' which does. In the ARCH literature, 'robust' corresponds to Bollerslev-Wooldridge covariance estimator.</p> <li><p><strong>show_warning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether convergence warnings should be shown.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when estimating model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when estimating model</p> <li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Tolerance for termination.</p> <li><p><strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Options to pass to <cite>scipy.optimize.minimize</cite>. Valid entries include 'ftol', 'eps', 'disp', and 'maxiter'.</p> <li><p><strong>backcast</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Value to use as backcast. Should be measure <span class="math notranslate nohighlight">\(\sigma^2_0\)</span> since model-specific non-linear transformations are applied to value before computing the variance recursions.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelResult" title=arch.univariate.base.ARCHModelResult >ARCHModelResult</a></p> </dl> <p class=rubric >Notes</p> <p>A ConvergenceWarning is raised if SciPy's optimizer indicates difficulty finding the optimum.</p> <p>Parameters are optimized using SLSQP.</p> </dl> <dl class=method > <dt id=arch.univariate.ZeroMean.fix > <code class="sig-name descname">fix</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ZeroMean.fix" title="Permalink to this definition">¶</a> <dd><p>Allows an ARCHModelFixedResult to be constructed from fixed parameters.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- User specified parameters to use when generating the result. Must have the correct number of parameters for a given choice of mean model, volatility model and distribution.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when fixing model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when fixing model</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelFixedResult" title=arch.univariate.base.ARCHModelFixedResult >ARCHModelFixedResult</a></p> </dl> <p class=rubric >Notes</p> <p>Parameters are not checked against model-specific constraints.</p> </dl> <dl class=method > <dt id=arch.univariate.ZeroMean.forecast > <code class="sig-name descname">forecast</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >horizon=1</em>, <em class=sig-param >start=None</em>, <em class=sig-param >align='origin'</em>, <em class=sig-param >method='analytic'</em>, <em class=sig-param >simulations=1000</em>, <em class=sig-param >rng=None</em>, <em class=sig-param >random_state=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ZeroMean.forecast" title="Permalink to this definition">¶</a> <dd><p>Construct forecasts from estimated model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em><em>, </em><em>optional</em>) -- Alternative parameters to use. If not provided, the parameters estimated when fitting the model are used. Must be identical in shape to the parameters computed by fitting the model.</p> <li><p><strong>horizon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of steps to forecast</p> <li><p><strong>start</strong> (<em>{int</em><em>, </em><em>datetime</em><em>, </em><em>Timestamp</em><em>, </em><em>str}</em><em>, </em><em>optional</em>) -- An integer, datetime or str indicating the first observation to produce the forecast for. Datetimes can only be used with pandas inputs that have a datetime index. Strings must be convertible to a date time, such as in '1945-01-01'.</p> <li><p><strong>align</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Either 'origin' or 'target'. When set of 'origin', the t-th row of forecasts contains the forecasts for t+1, t+2, ..., t+h. When set to 'target', the t-th row contains the 1-step ahead forecast from time t-1, the 2 step from time t-2, ..., and the h-step from time t-h. 'target' simplified computing forecast errors since the realization and h-step forecast are aligned.</p> <li><p><strong>method</strong> (<em>{'analytic'</em><em>, </em><em>'simulation'</em><em>, </em><em>'bootstrap'}</em>) -- Method to use when producing the forecast. The default is analytic. The method only affects the variance forecast generation. Not all volatility models support all methods. In particular, volatility models that do not evolve in squares such as EGARCH or TARCH do not support the 'analytic' method for horizons &gt; 1.</p> <li><p><strong>simulations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of simulations to run when computing the forecast using either simulation or bootstrap.</p> <li><p><strong>rng</strong> (<em>callable</em><em>, </em><em>optional</em>) -- Custom random number generator to use in simulation-based forecasts. Must produce random samples using the syntax <cite>rng(size)</cite> where size the 2-element tuple (simulations, horizon).</p> <li><p><strong>random_state</strong> (<em>RandomState</em><em>, </em><em>optional</em>) -- NumPy RandomState instance to use when method is 'bootstrap'</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>forecasts</strong> -- t by h data frame containing the forecasts. The alignment of the forecasts is controlled by <cite>align</cite>.</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="forecasting.html#arch.univariate.base.ARCHModelForecast" title=arch.univariate.base.ARCHModelForecast >ARCHModelForecast</a></p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >pandas</span> <span class=k >as</span> <span class=nn >pd</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch</span> <span class=k >import</span> <span class=n >arch_model</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=kc >None</span><span class=p >,</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span><span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >simulate</span><span class=p >([</span><span class=mf >0.1</span><span class=p >,</span><span class=mf >0.4</span><span class=p >,</span><span class=mf >0.3</span><span class=p >,</span><span class=mf >0.2</span><span class=p >,</span><span class=mf >1.0</span><span class=p >],</span> <span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span><span class=o >.</span><span class=n >index</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >date_range</span><span class=p >(</span><span class=s1 >'2000-01-01'</span><span class=p >,</span><span class=n >periods</span><span class=o >=</span><span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=n >sim_data</span><span class=p >[</span><span class=s1 >'data'</span><span class=p >],</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span>  <span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >fig</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >hedgehog_plot</span><span class=p >()</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The most basic 1-step ahead forecast will return a vector with the same length as the original data, where the t-th value will be the time-t forecast for time t + 1. When the horizon is &gt; 1, and when using the default value for <cite>align</cite>, the forecast value in position [t, h] is the time-t, h+1 step ahead forecast.</p> <p>If model contains exogenous variables (model.x is not None), then only 1-step ahead forecasts are available. Using horizon &gt; 1 will produce a warning and all columns, except the first, will be nan-filled.</p> <p>If <cite>align</cite> is 'origin', forecast[t,h] contains the forecast made using y[:t] (that is, up to but not including t) for horizon h + 1. For example, y[100,2] contains the 3-step ahead forecast using the first 100 data points, which will correspond to the realization y[100 + 2]. If <cite>align</cite> is 'target', then the same forecast is in location [102, 2], so that it is aligned with the observation to use when evaluating, but still in the same column.</p> </dl> <dl class=method > <dt id=arch.univariate.ZeroMean.resids > <code class="sig-name descname">resids</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >y=None</em>, <em class=sig-param >regressors=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#ZeroMean.resids"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.ZeroMean.resids" title="Permalink to this definition">¶</a> <dd><p>Compute model residuals</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Model parameters</p> <li><p><strong>y</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative values to use when computing model residuals</p> <li><p><strong>regressors</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative regressor values to use when computing model residuals</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>resids</strong> -- Model residuals</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=method > <dt id=arch.univariate.ZeroMean.simulate > <code class="sig-name descname">simulate</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >nobs</em>, <em class=sig-param >burn=500</em>, <em class=sig-param >initial_value=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >initial_value_vol=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#ZeroMean.simulate"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.ZeroMean.simulate" title="Permalink to this definition">¶</a> <dd><p>Simulated data from a zero mean model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>DataFrame}</em>) -- Parameters to use when simulating the model. Parameter order is [volatility distribution]. There are no mean parameters.</p> <li><p><strong>nobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Length of series to simulate</p> <li><p><strong>burn</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of values to simulate to initialize the model and remove dependence on initial values.</p> <li><p><strong>initial_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) -- This value is not used.</p> <li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) -- This value is not used.</p> <li><p><strong>initial_value_vol</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- An array or scalar to use when initializing the volatility process.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>simulated_data</strong> -- DataFrame with columns data containing the simulated values, volatility, containing the conditional volatility and errors containing the errors used in the simulation</p> <dt class=field-odd >Return type <dd class=field-odd ><p>DataFrame</p> </dl> <p class=rubric >Examples</p> <p>Basic data simulation with no mean and constant volatility</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >ZeroMean</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >zm</span> <span class=o >=</span> <span class=n >ZeroMean</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >zm</span><span class=o >.</span><span class=n >simulate</span><span class=p >([</span><span class=mf >1.0</span><span class=p >],</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Simulating data with a non-trivial volatility process</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >GARCH</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >zm</span><span class=o >.</span><span class=n >volatility</span> <span class=o >=</span> <span class=n >GARCH</span><span class=p >(</span><span class=n >p</span><span class=o >=</span><span class=mi >1</span><span class=p >,</span> <span class=n >o</span><span class=o >=</span><span class=mi >1</span><span class=p >,</span> <span class=n >q</span><span class=o >=</span><span class=mi >1</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >zm</span><span class=o >.</span><span class=n >simulate</span><span class=p >([</span><span class=mf >0.05</span><span class=p >,</span> <span class=mf >0.1</span><span class=p >,</span> <span class=mf >0.1</span><span class=p >,</span> <span class=mf >0.8</span><span class=p >],</span> <span class=mi >300</span><span class=p >)</span>
</pre></div> </div> </dl> </dl> <h2 id=constant-mean >Constant Mean<a class=headerlink  href="#constant-mean" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.univariate.ConstantMean > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.</code><code class="sig-name descname">ConstantMean</code><span class=sig-paren >(</span><em class=sig-param >y=None</em>, <em class=sig-param >hold_back=None</em>, <em class=sig-param >volatility=None</em>, <em class=sig-param >distribution=None</em>, <em class=sig-param >rescale=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#ConstantMean"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.ConstantMean" title="Permalink to this definition">¶</a> <dd><p>Constant mean model estimation and simulation.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>y</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- nobs element vector containing the dependent variable</p> <li><p><strong>hold_back</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of observations at the start of the sample to exclude when estimating model parameters. Used when comparing models with different lag lengths to estimate on the common sample.</p> <li><p><strong>volatility</strong> (<a class="reference internal" href="volatility.html#arch.univariate.volatility.VolatilityProcess" title=arch.univariate.volatility.VolatilityProcess ><em>VolatilityProcess</em></a><em>, </em><em>optional</em>) -- Volatility process to use in the model</p> <li><p><strong>distribution</strong> (<a class="reference internal" href="distribution.html#arch.univariate.Distribution" title=arch.univariate.Distribution ><em>Distribution</em></a><em>, </em><em>optional</em>) -- Error distribution to use in the model</p> <li><p><strong>rescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to automatically rescale data if the scale of the data is likely to produce convergence issues when estimating model parameters. If False, the model is estimated on the data without transformation. If True, than y is rescaled and the new scale is reported in the estimation results.</p> </ul> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >ConstantMean</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cm</span> <span class=o >=</span> <span class=n >ConstantMean</span><span class=p >(</span><span class=n >y</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >cm</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The constant mean model is described by</p> <div class="math notranslate nohighlight"> \[y_t = \mu + \epsilon_t\]</div> <dl class=method > <dt id=arch.univariate.ConstantMean.fit > <code class="sig-name descname">fit</code><span class=sig-paren >(</span><em class=sig-param >update_freq=1</em>, <em class=sig-param >disp='final'</em>, <em class=sig-param >starting_values=None</em>, <em class=sig-param >cov_type='robust'</em>, <em class=sig-param >show_warning=True</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em>, <em class=sig-param >tol=None</em>, <em class=sig-param >options=None</em>, <em class=sig-param >backcast=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ConstantMean.fit" title="Permalink to this definition">¶</a> <dd><p>Fits the model given a nobs by 1 vector of sigma2 values</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>update_freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Frequency of iteration updates. Output is generated every <cite>update_freq</cite> iterations. Set to 0 to disable iterative output.</p> <li><p><strong>disp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Either 'final' to print optimization result or 'off' to display nothing</p> <li><p><strong>starting_values</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Array of starting values to use. If not provided, starting values are constructed by the model components.</p> <li><p><strong>cov_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Estimation method of parameter covariance. Supported options are 'robust', which does not assume the Information Matrix Equality holds and 'classic' which does. In the ARCH literature, 'robust' corresponds to Bollerslev-Wooldridge covariance estimator.</p> <li><p><strong>show_warning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether convergence warnings should be shown.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when estimating model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when estimating model</p> <li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Tolerance for termination.</p> <li><p><strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Options to pass to <cite>scipy.optimize.minimize</cite>. Valid entries include 'ftol', 'eps', 'disp', and 'maxiter'.</p> <li><p><strong>backcast</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Value to use as backcast. Should be measure <span class="math notranslate nohighlight">\(\sigma^2_0\)</span> since model-specific non-linear transformations are applied to value before computing the variance recursions.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelResult" title=arch.univariate.base.ARCHModelResult >ARCHModelResult</a></p> </dl> <p class=rubric >Notes</p> <p>A ConvergenceWarning is raised if SciPy's optimizer indicates difficulty finding the optimum.</p> <p>Parameters are optimized using SLSQP.</p> </dl> <dl class=method > <dt id=arch.univariate.ConstantMean.forecast > <code class="sig-name descname">forecast</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >horizon=1</em>, <em class=sig-param >start=None</em>, <em class=sig-param >align='origin'</em>, <em class=sig-param >method='analytic'</em>, <em class=sig-param >simulations=1000</em>, <em class=sig-param >rng=None</em>, <em class=sig-param >random_state=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ConstantMean.forecast" title="Permalink to this definition">¶</a> <dd><p>Construct forecasts from estimated model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em><em>, </em><em>optional</em>) -- Alternative parameters to use. If not provided, the parameters estimated when fitting the model are used. Must be identical in shape to the parameters computed by fitting the model.</p> <li><p><strong>horizon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of steps to forecast</p> <li><p><strong>start</strong> (<em>{int</em><em>, </em><em>datetime</em><em>, </em><em>Timestamp</em><em>, </em><em>str}</em><em>, </em><em>optional</em>) -- An integer, datetime or str indicating the first observation to produce the forecast for. Datetimes can only be used with pandas inputs that have a datetime index. Strings must be convertible to a date time, such as in '1945-01-01'.</p> <li><p><strong>align</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Either 'origin' or 'target'. When set of 'origin', the t-th row of forecasts contains the forecasts for t+1, t+2, ..., t+h. When set to 'target', the t-th row contains the 1-step ahead forecast from time t-1, the 2 step from time t-2, ..., and the h-step from time t-h. 'target' simplified computing forecast errors since the realization and h-step forecast are aligned.</p> <li><p><strong>method</strong> (<em>{'analytic'</em><em>, </em><em>'simulation'</em><em>, </em><em>'bootstrap'}</em>) -- Method to use when producing the forecast. The default is analytic. The method only affects the variance forecast generation. Not all volatility models support all methods. In particular, volatility models that do not evolve in squares such as EGARCH or TARCH do not support the 'analytic' method for horizons &gt; 1.</p> <li><p><strong>simulations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of simulations to run when computing the forecast using either simulation or bootstrap.</p> <li><p><strong>rng</strong> (<em>callable</em><em>, </em><em>optional</em>) -- Custom random number generator to use in simulation-based forecasts. Must produce random samples using the syntax <cite>rng(size)</cite> where size the 2-element tuple (simulations, horizon).</p> <li><p><strong>random_state</strong> (<em>RandomState</em><em>, </em><em>optional</em>) -- NumPy RandomState instance to use when method is 'bootstrap'</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>forecasts</strong> -- t by h data frame containing the forecasts. The alignment of the forecasts is controlled by <cite>align</cite>.</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="forecasting.html#arch.univariate.base.ARCHModelForecast" title=arch.univariate.base.ARCHModelForecast >ARCHModelForecast</a></p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >pandas</span> <span class=k >as</span> <span class=nn >pd</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch</span> <span class=k >import</span> <span class=n >arch_model</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=kc >None</span><span class=p >,</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span><span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >simulate</span><span class=p >([</span><span class=mf >0.1</span><span class=p >,</span><span class=mf >0.4</span><span class=p >,</span><span class=mf >0.3</span><span class=p >,</span><span class=mf >0.2</span><span class=p >,</span><span class=mf >1.0</span><span class=p >],</span> <span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span><span class=o >.</span><span class=n >index</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >date_range</span><span class=p >(</span><span class=s1 >'2000-01-01'</span><span class=p >,</span><span class=n >periods</span><span class=o >=</span><span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=n >sim_data</span><span class=p >[</span><span class=s1 >'data'</span><span class=p >],</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span>  <span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >fig</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >hedgehog_plot</span><span class=p >()</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The most basic 1-step ahead forecast will return a vector with the same length as the original data, where the t-th value will be the time-t forecast for time t + 1. When the horizon is &gt; 1, and when using the default value for <cite>align</cite>, the forecast value in position [t, h] is the time-t, h+1 step ahead forecast.</p> <p>If model contains exogenous variables (model.x is not None), then only 1-step ahead forecasts are available. Using horizon &gt; 1 will produce a warning and all columns, except the first, will be nan-filled.</p> <p>If <cite>align</cite> is 'origin', forecast[t,h] contains the forecast made using y[:t] (that is, up to but not including t) for horizon h + 1. For example, y[100,2] contains the 3-step ahead forecast using the first 100 data points, which will correspond to the realization y[100 + 2]. If <cite>align</cite> is 'target', then the same forecast is in location [102, 2], so that it is aligned with the observation to use when evaluating, but still in the same column.</p> </dl> <dl class=method > <dt id=arch.univariate.ConstantMean.resids > <code class="sig-name descname">resids</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >y=None</em>, <em class=sig-param >regressors=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#ConstantMean.resids"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.ConstantMean.resids" title="Permalink to this definition">¶</a> <dd><p>Compute model residuals</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Model parameters</p> <li><p><strong>y</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative values to use when computing model residuals</p> <li><p><strong>regressors</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative regressor values to use when computing model residuals</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>resids</strong> -- Model residuals</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=method > <dt id=arch.univariate.ConstantMean.simulate > <code class="sig-name descname">simulate</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >nobs</em>, <em class=sig-param >burn=500</em>, <em class=sig-param >initial_value=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >initial_value_vol=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#ConstantMean.simulate"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.ConstantMean.simulate" title="Permalink to this definition">¶</a> <dd><p>Simulated data from a constant mean model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Parameters to use when simulating the model. Parameter order is [mean volatility distribution]. There is one parameter in the mean model, mu.</p> <li><p><strong>nobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Length of series to simulate</p> <li><p><strong>burn</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of values to simulate to initialize the model and remove dependence on initial values.</p> <li><p><strong>initial_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) -- This value is not used.</p> <li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) -- This value is not used.</p> <li><p><strong>initial_value_vol</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- An array or scalar to use when initializing the volatility process.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>simulated_data</strong> -- DataFrame with columns data containing the simulated values, volatility, containing the conditional volatility and errors containing the errors used in the simulation</p> <dt class=field-odd >Return type <dd class=field-odd ><p>DataFrame</p> </dl> <p class=rubric >Examples</p> <p>Basic data simulation with a constant mean and volatility</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >ConstantMean</span><span class=p >,</span> <span class=n >GARCH</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cm</span> <span class=o >=</span> <span class=n >ConstantMean</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cm</span><span class=o >.</span><span class=n >volatility</span> <span class=o >=</span> <span class=n >GARCH</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >cm_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mi >1</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >garch_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mf >0.01</span><span class=p >,</span> <span class=mf >0.07</span><span class=p >,</span> <span class=mf >0.92</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >concatenate</span><span class=p >((</span><span class=n >cm_params</span><span class=p >,</span> <span class=n >garch_params</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >cm</span><span class=o >.</span><span class=n >simulate</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> </dl> </dl> <h2 id=autoregressions >Autoregressions<a class=headerlink  href="#autoregressions" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.univariate.ARX > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.</code><code class="sig-name descname">ARX</code><span class=sig-paren >(</span><em class=sig-param >y=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >lags=None</em>, <em class=sig-param >constant=True</em>, <em class=sig-param >hold_back=None</em>, <em class=sig-param >volatility=None</em>, <em class=sig-param >distribution=None</em>, <em class=sig-param >rescale=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#ARX"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.ARX" title="Permalink to this definition">¶</a> <dd><p>Autoregressive model with optional exogenous regressors estimation and simulation</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>y</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- nobs element vector containing the dependent variable</p> <li><p><strong>x</strong> (<em>{ndarray</em><em>, </em><em>DataFrame}</em><em>, </em><em>optional</em>) -- nobs by k element array containing exogenous regressors</p> <li><p><strong>lags</strong> (<em>scalar</em><em>, </em><em>1-d array</em><em>, </em><em>optional</em>) -- Description of lag structure of the HAR. Scalar included all lags between 1 and the value. A 1-d array includes the AR lags lags[0], lags[1], ...</p> <li><p><strong>constant</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag whether the model should include a constant</p> <li><p><strong>hold_back</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of observations at the start of the sample to exclude when estimating model parameters. Used when comparing models with different lag lengths to estimate on the common sample.</p> <li><p><strong>rescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to automatically rescale data if the scale of the data is likely to produce convergence issues when estimating model parameters. If False, the model is estimated on the data without transformation. If True, than y is rescaled and the new scale is reported in the estimation results.</p> </ul> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >ARX</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >arx</span> <span class=o >=</span> <span class=n >ARX</span><span class=p >(</span><span class=n >y</span><span class=p >,</span> <span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >5</span><span class=p >,</span> <span class=mi >22</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >arx</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
</pre></div> </div> <p>Estimating an AR with GARCH(1,1) errors &gt;&gt;&gt; from arch.univariate import GARCH &gt;&gt;&gt; arx.volatility = GARCH() &gt;&gt;&gt; res = arx.fit(update_freq=0, disp='off')</p> <p class=rubric >Notes</p> <p>The AR-X model is described by</p> <div class="math notranslate nohighlight"> \[y_t = \mu + \sum_{i=1}^p \phi_{L_{i}} y_{t-L_{i}} + \gamma' x_t + \epsilon_t\]</div> <dl class=method > <dt id=arch.univariate.ARX.fit > <code class="sig-name descname">fit</code><span class=sig-paren >(</span><em class=sig-param >update_freq=1</em>, <em class=sig-param >disp='final'</em>, <em class=sig-param >starting_values=None</em>, <em class=sig-param >cov_type='robust'</em>, <em class=sig-param >show_warning=True</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em>, <em class=sig-param >tol=None</em>, <em class=sig-param >options=None</em>, <em class=sig-param >backcast=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ARX.fit" title="Permalink to this definition">¶</a> <dd><p>Fits the model given a nobs by 1 vector of sigma2 values</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>update_freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Frequency of iteration updates. Output is generated every <cite>update_freq</cite> iterations. Set to 0 to disable iterative output.</p> <li><p><strong>disp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Either 'final' to print optimization result or 'off' to display nothing</p> <li><p><strong>starting_values</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Array of starting values to use. If not provided, starting values are constructed by the model components.</p> <li><p><strong>cov_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Estimation method of parameter covariance. Supported options are 'robust', which does not assume the Information Matrix Equality holds and 'classic' which does. In the ARCH literature, 'robust' corresponds to Bollerslev-Wooldridge covariance estimator.</p> <li><p><strong>show_warning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether convergence warnings should be shown.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when estimating model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when estimating model</p> <li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Tolerance for termination.</p> <li><p><strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Options to pass to <cite>scipy.optimize.minimize</cite>. Valid entries include 'ftol', 'eps', 'disp', and 'maxiter'.</p> <li><p><strong>backcast</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Value to use as backcast. Should be measure <span class="math notranslate nohighlight">\(\sigma^2_0\)</span> since model-specific non-linear transformations are applied to value before computing the variance recursions.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelResult" title=arch.univariate.base.ARCHModelResult >ARCHModelResult</a></p> </dl> <p class=rubric >Notes</p> <p>A ConvergenceWarning is raised if SciPy's optimizer indicates difficulty finding the optimum.</p> <p>Parameters are optimized using SLSQP.</p> </dl> <dl class=method > <dt id=arch.univariate.ARX.fix > <code class="sig-name descname">fix</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ARX.fix" title="Permalink to this definition">¶</a> <dd><p>Allows an ARCHModelFixedResult to be constructed from fixed parameters.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- User specified parameters to use when generating the result. Must have the correct number of parameters for a given choice of mean model, volatility model and distribution.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when fixing model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when fixing model</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelFixedResult" title=arch.univariate.base.ARCHModelFixedResult >ARCHModelFixedResult</a></p> </dl> <p class=rubric >Notes</p> <p>Parameters are not checked against model-specific constraints.</p> </dl> <dl class=method > <dt id=arch.univariate.ARX.forecast > <code class="sig-name descname">forecast</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >horizon=1</em>, <em class=sig-param >start=None</em>, <em class=sig-param >align='origin'</em>, <em class=sig-param >method='analytic'</em>, <em class=sig-param >simulations=1000</em>, <em class=sig-param >rng=None</em>, <em class=sig-param >random_state=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ARX.forecast" title="Permalink to this definition">¶</a> <dd><p>Construct forecasts from estimated model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em><em>, </em><em>optional</em>) -- Alternative parameters to use. If not provided, the parameters estimated when fitting the model are used. Must be identical in shape to the parameters computed by fitting the model.</p> <li><p><strong>horizon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of steps to forecast</p> <li><p><strong>start</strong> (<em>{int</em><em>, </em><em>datetime</em><em>, </em><em>Timestamp</em><em>, </em><em>str}</em><em>, </em><em>optional</em>) -- An integer, datetime or str indicating the first observation to produce the forecast for. Datetimes can only be used with pandas inputs that have a datetime index. Strings must be convertible to a date time, such as in '1945-01-01'.</p> <li><p><strong>align</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Either 'origin' or 'target'. When set of 'origin', the t-th row of forecasts contains the forecasts for t+1, t+2, ..., t+h. When set to 'target', the t-th row contains the 1-step ahead forecast from time t-1, the 2 step from time t-2, ..., and the h-step from time t-h. 'target' simplified computing forecast errors since the realization and h-step forecast are aligned.</p> <li><p><strong>method</strong> (<em>{'analytic'</em><em>, </em><em>'simulation'</em><em>, </em><em>'bootstrap'}</em>) -- Method to use when producing the forecast. The default is analytic. The method only affects the variance forecast generation. Not all volatility models support all methods. In particular, volatility models that do not evolve in squares such as EGARCH or TARCH do not support the 'analytic' method for horizons &gt; 1.</p> <li><p><strong>simulations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of simulations to run when computing the forecast using either simulation or bootstrap.</p> <li><p><strong>rng</strong> (<em>callable</em><em>, </em><em>optional</em>) -- Custom random number generator to use in simulation-based forecasts. Must produce random samples using the syntax <cite>rng(size)</cite> where size the 2-element tuple (simulations, horizon).</p> <li><p><strong>random_state</strong> (<em>RandomState</em><em>, </em><em>optional</em>) -- NumPy RandomState instance to use when method is 'bootstrap'</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>forecasts</strong> -- t by h data frame containing the forecasts. The alignment of the forecasts is controlled by <cite>align</cite>.</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="forecasting.html#arch.univariate.base.ARCHModelForecast" title=arch.univariate.base.ARCHModelForecast >ARCHModelForecast</a></p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >pandas</span> <span class=k >as</span> <span class=nn >pd</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch</span> <span class=k >import</span> <span class=n >arch_model</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=kc >None</span><span class=p >,</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span><span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >simulate</span><span class=p >([</span><span class=mf >0.1</span><span class=p >,</span><span class=mf >0.4</span><span class=p >,</span><span class=mf >0.3</span><span class=p >,</span><span class=mf >0.2</span><span class=p >,</span><span class=mf >1.0</span><span class=p >],</span> <span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span><span class=o >.</span><span class=n >index</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >date_range</span><span class=p >(</span><span class=s1 >'2000-01-01'</span><span class=p >,</span><span class=n >periods</span><span class=o >=</span><span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=n >sim_data</span><span class=p >[</span><span class=s1 >'data'</span><span class=p >],</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span>  <span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >fig</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >hedgehog_plot</span><span class=p >()</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The most basic 1-step ahead forecast will return a vector with the same length as the original data, where the t-th value will be the time-t forecast for time t + 1. When the horizon is &gt; 1, and when using the default value for <cite>align</cite>, the forecast value in position [t, h] is the time-t, h+1 step ahead forecast.</p> <p>If model contains exogenous variables (model.x is not None), then only 1-step ahead forecasts are available. Using horizon &gt; 1 will produce a warning and all columns, except the first, will be nan-filled.</p> <p>If <cite>align</cite> is 'origin', forecast[t,h] contains the forecast made using y[:t] (that is, up to but not including t) for horizon h + 1. For example, y[100,2] contains the 3-step ahead forecast using the first 100 data points, which will correspond to the realization y[100 + 2]. If <cite>align</cite> is 'target', then the same forecast is in location [102, 2], so that it is aligned with the observation to use when evaluating, but still in the same column.</p> </dl> <dl class=method > <dt id=arch.univariate.ARX.resids > <code class="sig-name descname">resids</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >y=None</em>, <em class=sig-param >regressors=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ARX.resids" title="Permalink to this definition">¶</a> <dd><p>Compute model residuals</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Model parameters</p> <li><p><strong>y</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative values to use when computing model residuals</p> <li><p><strong>regressors</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative regressor values to use when computing model residuals</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>resids</strong> -- Model residuals</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=method > <dt id=arch.univariate.ARX.simulate > <code class="sig-name descname">simulate</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >nobs</em>, <em class=sig-param >burn=500</em>, <em class=sig-param >initial_value=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >initial_value_vol=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.ARX.simulate" title="Permalink to this definition">¶</a> <dd><p>Simulates data from a linear regression, AR or HAR models</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Parameters to use when simulating the model. Parameter order is [mean volatility distribution] where the parameters of the mean model are ordered [constant lag[0] lag[1] ... lag[p] ex[0] ... ex[k-1]] where lag[j] indicates the coefficient on the jth lag in the model and ex[j] is the coefficient on the jth exogenous variable.</p> <li><p><strong>nobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Length of series to simulate</p> <li><p><strong>burn</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of values to simulate to initialize the model and remove dependence on initial values.</p> <li><p><strong>initial_value</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- Either a scalar value or <cite>max(lags)</cite> array set of initial values to use when initializing the model. If omitted, 0.0 is used.</p> <li><p><strong>x</strong> (<em>{ndarray</em><em>, </em><em>DataFrame}</em><em>, </em><em>optional</em>) -- nobs + burn by k array of exogenous variables to include in the simulation.</p> <li><p><strong>initial_value_vol</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- An array or scalar to use when initializing the volatility process.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>simulated_data</strong> -- DataFrame with columns data containing the simulated values, volatility, containing the conditional volatility and errors containing the errors used in the simulation</p> <dt class=field-odd >Return type <dd class=field-odd ><p>DataFrame</p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >HARX</span><span class=p >,</span> <span class=n >GARCH</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx</span> <span class=o >=</span> <span class=n >HARX</span><span class=p >(</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >5</span><span class=p >,</span> <span class=mi >22</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx</span><span class=o >.</span><span class=n >volatility</span> <span class=o >=</span> <span class=n >GARCH</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mf >0.2</span><span class=p >,</span> <span class=mf >0.3</span><span class=p >,</span> <span class=mf >0.4</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >garch_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mf >0.01</span><span class=p >,</span> <span class=mf >0.07</span><span class=p >,</span> <span class=mf >0.92</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >concatenate</span><span class=p >((</span><span class=n >harx_params</span><span class=p >,</span> <span class=n >garch_params</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >harx</span><span class=o >.</span><span class=n >simulate</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Simulating models with exogenous regressors requires the regressors to have nobs plus burn data points</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=n >nobs</span> <span class=o >=</span> <span class=mi >100</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >burn</span> <span class=o >=</span> <span class=mi >200</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=n >nobs</span> <span class=o >+</span> <span class=n >burn</span><span class=p >,</span> <span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mf >1.0</span><span class=p >,</span> <span class=mf >2.0</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >concatenate</span><span class=p >((</span><span class=n >harx_params</span><span class=p >,</span> <span class=n >x_params</span><span class=p >,</span> <span class=n >garch_params</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >harx</span><span class=o >.</span><span class=n >simulate</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=n >nobs</span><span class=o >=</span><span class=n >nobs</span><span class=p >,</span> <span class=n >burn</span><span class=o >=</span><span class=n >burn</span><span class=p >,</span> <span class=n >x</span><span class=o >=</span><span class=n >x</span><span class=p >)</span>
</pre></div> </div> </dl> </dl> <h2 id=heterogeneous-autoregressions >Heterogeneous Autoregressions<a class=headerlink  href="#heterogeneous-autoregressions" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.univariate.HARX > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.</code><code class="sig-name descname">HARX</code><span class=sig-paren >(</span><em class=sig-param >y=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >lags=None</em>, <em class=sig-param >constant=True</em>, <em class=sig-param >use_rotated=False</em>, <em class=sig-param >hold_back=None</em>, <em class=sig-param >volatility=None</em>, <em class=sig-param >distribution=None</em>, <em class=sig-param >rescale=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#HARX"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.HARX" title="Permalink to this definition">¶</a> <dd><p>Heterogeneous Autoregression (HAR), with optional exogenous regressors, model estimation and simulation</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>y</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- nobs element vector containing the dependent variable</p> <li><p><strong>x</strong> (<em>{ndarray</em><em>, </em><em>DataFrame}</em><em>, </em><em>optional</em>) -- nobs by k element array containing exogenous regressors</p> <li><p><strong>lags</strong> (<em>{scalar</em><em>, </em><em>ndarray}</em><em>, </em><em>optional</em>) -- Description of lag structure of the HAR. Scalar included all lags between 1 and the value. A 1-d array includes the HAR lags 1:lags[0], 1:lags[1], ... A 2-d array includes the HAR lags of the form lags[0,j]:lags[1,j] for all columns of lags.</p> <li><p><strong>constant</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag whether the model should include a constant</p> <li><p><strong>use_rotated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating to use the alternative rotated form of the HAR where HAR lags do not overlap</p> <li><p><strong>hold_back</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of observations at the start of the sample to exclude when estimating model parameters. Used when comparing models with different lag lengths to estimate on the common sample.</p> <li><p><strong>volatility</strong> (<a class="reference internal" href="volatility.html#arch.univariate.volatility.VolatilityProcess" title=arch.univariate.volatility.VolatilityProcess ><em>VolatilityProcess</em></a><em>, </em><em>optional</em>) -- Volatility process to use in the model</p> <li><p><strong>distribution</strong> (<a class="reference internal" href="distribution.html#arch.univariate.Distribution" title=arch.univariate.Distribution ><em>Distribution</em></a><em>, </em><em>optional</em>) -- Error distribution to use in the model</p> <li><p><strong>rescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to automatically rescale data if the scale of the data is likely to produce convergence issues when estimating model parameters. If False, the model is estimated on the data without transformation. If True, than y is rescaled and the new scale is reported in the estimation results.</p> </ul> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >HARX</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx</span> <span class=o >=</span> <span class=n >HARX</span><span class=p >(</span><span class=n >y</span><span class=p >,</span> <span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >5</span><span class=p >,</span> <span class=mi >22</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >harx</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
</pre></div> </div> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >pandas</span> <span class=k >import</span> <span class=n >Series</span><span class=p >,</span> <span class=n >date_range</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >index</span> <span class=o >=</span> <span class=n >date_range</span><span class=p >(</span><span class=s1 >'2000-01-01'</span><span class=p >,</span> <span class=n >freq</span><span class=o >=</span><span class=s1 >'M'</span><span class=p >,</span> <span class=n >periods</span><span class=o >=</span><span class=n >y</span><span class=o >.</span><span class=n >shape</span><span class=p >[</span><span class=mi >0</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >Series</span><span class=p >(</span><span class=n >y</span><span class=p >,</span> <span class=n >name</span><span class=o >=</span><span class=s1 >'y'</span><span class=p >,</span> <span class=n >index</span><span class=o >=</span><span class=n >index</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >har</span> <span class=o >=</span> <span class=n >HARX</span><span class=p >(</span><span class=n >y</span><span class=p >,</span> <span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >6</span><span class=p >],</span> <span class=n >hold_back</span><span class=o >=</span><span class=mi >10</span><span class=p >)</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The HAR-X model is described by</p> <div class="math notranslate nohighlight"> \[y_t = \mu + \sum_{i=1}^p \phi_{L_{i}} \bar{y}_{t-L_{i,0}:L_{i,1}} + \gamma' x_t + \epsilon_t\]</div> <p>where <span class="math notranslate nohighlight">\(\bar{y}_{t-L_{i,0}:L_{i,1}}\)</span> is the average value of <span class="math notranslate nohighlight">\(y_t\)</span> between <span class="math notranslate nohighlight">\(t-L_{i,0}\)</span> and <span class="math notranslate nohighlight">\(t - L_{i,1}\)</span>.</p> <dl class=method > <dt id=arch.univariate.HARX.fit > <code class="sig-name descname">fit</code><span class=sig-paren >(</span><em class=sig-param >update_freq=1</em>, <em class=sig-param >disp='final'</em>, <em class=sig-param >starting_values=None</em>, <em class=sig-param >cov_type='robust'</em>, <em class=sig-param >show_warning=True</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em>, <em class=sig-param >tol=None</em>, <em class=sig-param >options=None</em>, <em class=sig-param >backcast=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.HARX.fit" title="Permalink to this definition">¶</a> <dd><p>Fits the model given a nobs by 1 vector of sigma2 values</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>update_freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Frequency of iteration updates. Output is generated every <cite>update_freq</cite> iterations. Set to 0 to disable iterative output.</p> <li><p><strong>disp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Either 'final' to print optimization result or 'off' to display nothing</p> <li><p><strong>starting_values</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Array of starting values to use. If not provided, starting values are constructed by the model components.</p> <li><p><strong>cov_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Estimation method of parameter covariance. Supported options are 'robust', which does not assume the Information Matrix Equality holds and 'classic' which does. In the ARCH literature, 'robust' corresponds to Bollerslev-Wooldridge covariance estimator.</p> <li><p><strong>show_warning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether convergence warnings should be shown.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when estimating model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when estimating model</p> <li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Tolerance for termination.</p> <li><p><strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Options to pass to <cite>scipy.optimize.minimize</cite>. Valid entries include 'ftol', 'eps', 'disp', and 'maxiter'.</p> <li><p><strong>backcast</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Value to use as backcast. Should be measure <span class="math notranslate nohighlight">\(\sigma^2_0\)</span> since model-specific non-linear transformations are applied to value before computing the variance recursions.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelResult" title=arch.univariate.base.ARCHModelResult >ARCHModelResult</a></p> </dl> <p class=rubric >Notes</p> <p>A ConvergenceWarning is raised if SciPy's optimizer indicates difficulty finding the optimum.</p> <p>Parameters are optimized using SLSQP.</p> </dl> <dl class=method > <dt id=arch.univariate.HARX.fix > <code class="sig-name descname">fix</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.HARX.fix" title="Permalink to this definition">¶</a> <dd><p>Allows an ARCHModelFixedResult to be constructed from fixed parameters.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- User specified parameters to use when generating the result. Must have the correct number of parameters for a given choice of mean model, volatility model and distribution.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when fixing model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when fixing model</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelFixedResult" title=arch.univariate.base.ARCHModelFixedResult >ARCHModelFixedResult</a></p> </dl> <p class=rubric >Notes</p> <p>Parameters are not checked against model-specific constraints.</p> </dl> <dl class=method > <dt id=arch.univariate.HARX.forecast > <code class="sig-name descname">forecast</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >horizon=1</em>, <em class=sig-param >start=None</em>, <em class=sig-param >align='origin'</em>, <em class=sig-param >method='analytic'</em>, <em class=sig-param >simulations=1000</em>, <em class=sig-param >rng=None</em>, <em class=sig-param >random_state=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#HARX.forecast"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.HARX.forecast" title="Permalink to this definition">¶</a> <dd><p>Construct forecasts from estimated model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em><em>, </em><em>optional</em>) -- Alternative parameters to use. If not provided, the parameters estimated when fitting the model are used. Must be identical in shape to the parameters computed by fitting the model.</p> <li><p><strong>horizon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of steps to forecast</p> <li><p><strong>start</strong> (<em>{int</em><em>, </em><em>datetime</em><em>, </em><em>Timestamp</em><em>, </em><em>str}</em><em>, </em><em>optional</em>) -- An integer, datetime or str indicating the first observation to produce the forecast for. Datetimes can only be used with pandas inputs that have a datetime index. Strings must be convertible to a date time, such as in '1945-01-01'.</p> <li><p><strong>align</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Either 'origin' or 'target'. When set of 'origin', the t-th row of forecasts contains the forecasts for t+1, t+2, ..., t+h. When set to 'target', the t-th row contains the 1-step ahead forecast from time t-1, the 2 step from time t-2, ..., and the h-step from time t-h. 'target' simplified computing forecast errors since the realization and h-step forecast are aligned.</p> <li><p><strong>method</strong> (<em>{'analytic'</em><em>, </em><em>'simulation'</em><em>, </em><em>'bootstrap'}</em>) -- Method to use when producing the forecast. The default is analytic. The method only affects the variance forecast generation. Not all volatility models support all methods. In particular, volatility models that do not evolve in squares such as EGARCH or TARCH do not support the 'analytic' method for horizons &gt; 1.</p> <li><p><strong>simulations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of simulations to run when computing the forecast using either simulation or bootstrap.</p> <li><p><strong>rng</strong> (<em>callable</em><em>, </em><em>optional</em>) -- Custom random number generator to use in simulation-based forecasts. Must produce random samples using the syntax <cite>rng(size)</cite> where size the 2-element tuple (simulations, horizon).</p> <li><p><strong>random_state</strong> (<em>RandomState</em><em>, </em><em>optional</em>) -- NumPy RandomState instance to use when method is 'bootstrap'</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>forecasts</strong> -- t by h data frame containing the forecasts. The alignment of the forecasts is controlled by <cite>align</cite>.</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="forecasting.html#arch.univariate.base.ARCHModelForecast" title=arch.univariate.base.ARCHModelForecast >ARCHModelForecast</a></p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >pandas</span> <span class=k >as</span> <span class=nn >pd</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch</span> <span class=k >import</span> <span class=n >arch_model</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=kc >None</span><span class=p >,</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span><span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >simulate</span><span class=p >([</span><span class=mf >0.1</span><span class=p >,</span><span class=mf >0.4</span><span class=p >,</span><span class=mf >0.3</span><span class=p >,</span><span class=mf >0.2</span><span class=p >,</span><span class=mf >1.0</span><span class=p >],</span> <span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span><span class=o >.</span><span class=n >index</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >date_range</span><span class=p >(</span><span class=s1 >'2000-01-01'</span><span class=p >,</span><span class=n >periods</span><span class=o >=</span><span class=mi >250</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=n >sim_data</span><span class=p >[</span><span class=s1 >'data'</span><span class=p >],</span><span class=n >mean</span><span class=o >=</span><span class=s1 >'HAR'</span><span class=p >,</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span><span class=mi >5</span><span class=p >,</span><span class=mi >22</span><span class=p >],</span>  <span class=n >vol</span><span class=o >=</span><span class=s1 >'Constant'</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >fig</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >hedgehog_plot</span><span class=p >()</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The most basic 1-step ahead forecast will return a vector with the same length as the original data, where the t-th value will be the time-t forecast for time t + 1. When the horizon is &gt; 1, and when using the default value for <cite>align</cite>, the forecast value in position [t, h] is the time-t, h+1 step ahead forecast.</p> <p>If model contains exogenous variables (model.x is not None), then only 1-step ahead forecasts are available. Using horizon &gt; 1 will produce a warning and all columns, except the first, will be nan-filled.</p> <p>If <cite>align</cite> is 'origin', forecast[t,h] contains the forecast made using y[:t] (that is, up to but not including t) for horizon h + 1. For example, y[100,2] contains the 3-step ahead forecast using the first 100 data points, which will correspond to the realization y[100 + 2]. If <cite>align</cite> is 'target', then the same forecast is in location [102, 2], so that it is aligned with the observation to use when evaluating, but still in the same column.</p> </dl> <dl class=method > <dt id=arch.univariate.HARX.resids > <code class="sig-name descname">resids</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >y=None</em>, <em class=sig-param >regressors=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#HARX.resids"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.HARX.resids" title="Permalink to this definition">¶</a> <dd><p>Compute model residuals</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Model parameters</p> <li><p><strong>y</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative values to use when computing model residuals</p> <li><p><strong>regressors</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative regressor values to use when computing model residuals</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>resids</strong> -- Model residuals</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=method > <dt id=arch.univariate.HARX.simulate > <code class="sig-name descname">simulate</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >nobs</em>, <em class=sig-param >burn=500</em>, <em class=sig-param >initial_value=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >initial_value_vol=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#HARX.simulate"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.HARX.simulate" title="Permalink to this definition">¶</a> <dd><p>Simulates data from a linear regression, AR or HAR models</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Parameters to use when simulating the model. Parameter order is [mean volatility distribution] where the parameters of the mean model are ordered [constant lag[0] lag[1] ... lag[p] ex[0] ... ex[k-1]] where lag[j] indicates the coefficient on the jth lag in the model and ex[j] is the coefficient on the jth exogenous variable.</p> <li><p><strong>nobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Length of series to simulate</p> <li><p><strong>burn</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of values to simulate to initialize the model and remove dependence on initial values.</p> <li><p><strong>initial_value</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- Either a scalar value or <cite>max(lags)</cite> array set of initial values to use when initializing the model. If omitted, 0.0 is used.</p> <li><p><strong>x</strong> (<em>{ndarray</em><em>, </em><em>DataFrame}</em><em>, </em><em>optional</em>) -- nobs + burn by k array of exogenous variables to include in the simulation.</p> <li><p><strong>initial_value_vol</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- An array or scalar to use when initializing the volatility process.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>simulated_data</strong> -- DataFrame with columns data containing the simulated values, volatility, containing the conditional volatility and errors containing the errors used in the simulation</p> <dt class=field-odd >Return type <dd class=field-odd ><p>DataFrame</p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >HARX</span><span class=p >,</span> <span class=n >GARCH</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx</span> <span class=o >=</span> <span class=n >HARX</span><span class=p >(</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >5</span><span class=p >,</span> <span class=mi >22</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx</span><span class=o >.</span><span class=n >volatility</span> <span class=o >=</span> <span class=n >GARCH</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mf >0.2</span><span class=p >,</span> <span class=mf >0.3</span><span class=p >,</span> <span class=mf >0.4</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >garch_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mf >0.01</span><span class=p >,</span> <span class=mf >0.07</span><span class=p >,</span> <span class=mf >0.92</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >concatenate</span><span class=p >((</span><span class=n >harx_params</span><span class=p >,</span> <span class=n >garch_params</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >harx</span><span class=o >.</span><span class=n >simulate</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Simulating models with exogenous regressors requires the regressors to have nobs plus burn data points</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=n >nobs</span> <span class=o >=</span> <span class=mi >100</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >burn</span> <span class=o >=</span> <span class=mi >200</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=n >nobs</span> <span class=o >+</span> <span class=n >burn</span><span class=p >,</span> <span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mf >1.0</span><span class=p >,</span> <span class=mf >2.0</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >concatenate</span><span class=p >((</span><span class=n >harx_params</span><span class=p >,</span> <span class=n >x_params</span><span class=p >,</span> <span class=n >garch_params</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >harx</span><span class=o >.</span><span class=n >simulate</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=n >nobs</span><span class=o >=</span><span class=n >nobs</span><span class=p >,</span> <span class=n >burn</span><span class=o >=</span><span class=n >burn</span><span class=p >,</span> <span class=n >x</span><span class=o >=</span><span class=n >x</span><span class=p >)</span>
</pre></div> </div> </dl> </dl> <h2 id=least-squares >Least Squares<a class=headerlink  href="#least-squares" title="Permalink to this headline">¶</a></h2> <dl class=class > <dt id=arch.univariate.LS > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.</code><code class="sig-name descname">LS</code><span class=sig-paren >(</span><em class=sig-param >y=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >constant=True</em>, <em class=sig-param >hold_back=None</em>, <em class=sig-param >rescale=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/mean.html#LS"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.LS" title="Permalink to this definition">¶</a> <dd><p>Least squares model estimation and simulation</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>y</strong> (<em>{ndarray</em><em>, </em><em>DataFrame}</em><em>, </em><em>optional</em>) -- nobs element vector containing the dependent variable</p> <li><p><strong>y</strong> -- nobs by k element array containing exogenous regressors</p> <li><p><strong>constant</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag whether the model should include a constant</p> <li><p><strong>hold_back</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Number of observations at the start of the sample to exclude when estimating model parameters. Used when comparing models with different lag lengths to estimate on the common sample.</p> <li><p><strong>rescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether to automatically rescale data if the scale of the data is likely to produce convergence issues when estimating model parameters. If False, the model is estimated on the data without transformation. If True, than y is rescaled and the new scale is reported in the estimation results.</p> </ul> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >LS</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >y</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=mi >100</span><span class=p >,</span><span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >ls</span> <span class=o >=</span> <span class=n >LS</span><span class=p >(</span><span class=n >y</span><span class=p >,</span> <span class=n >x</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >res</span> <span class=o >=</span> <span class=n >ls</span><span class=o >.</span><span class=n >fit</span><span class=p >()</span>
</pre></div> </div> <p class=rubric >Notes</p> <p>The LS model is described by</p> <div class="math notranslate nohighlight"> \[y_t = \mu + \gamma' x_t + \epsilon_t\]</div> <dl class=method > <dt id=arch.univariate.LS.fit > <code class="sig-name descname">fit</code><span class=sig-paren >(</span><em class=sig-param >update_freq=1</em>, <em class=sig-param >disp='final'</em>, <em class=sig-param >starting_values=None</em>, <em class=sig-param >cov_type='robust'</em>, <em class=sig-param >show_warning=True</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em>, <em class=sig-param >tol=None</em>, <em class=sig-param >options=None</em>, <em class=sig-param >backcast=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.LS.fit" title="Permalink to this definition">¶</a> <dd><p>Fits the model given a nobs by 1 vector of sigma2 values</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>update_freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Frequency of iteration updates. Output is generated every <cite>update_freq</cite> iterations. Set to 0 to disable iterative output.</p> <li><p><strong>disp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Either 'final' to print optimization result or 'off' to display nothing</p> <li><p><strong>starting_values</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Array of starting values to use. If not provided, starting values are constructed by the model components.</p> <li><p><strong>cov_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Estimation method of parameter covariance. Supported options are 'robust', which does not assume the Information Matrix Equality holds and 'classic' which does. In the ARCH literature, 'robust' corresponds to Bollerslev-Wooldridge covariance estimator.</p> <li><p><strong>show_warning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Flag indicating whether convergence warnings should be shown.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when estimating model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when estimating model</p> <li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Tolerance for termination.</p> <li><p><strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) -- Options to pass to <cite>scipy.optimize.minimize</cite>. Valid entries include 'ftol', 'eps', 'disp', and 'maxiter'.</p> <li><p><strong>backcast</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>optional</em>) -- Value to use as backcast. Should be measure <span class="math notranslate nohighlight">\(\sigma^2_0\)</span> since model-specific non-linear transformations are applied to value before computing the variance recursions.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelResult" title=arch.univariate.base.ARCHModelResult >ARCHModelResult</a></p> </dl> <p class=rubric >Notes</p> <p>A ConvergenceWarning is raised if SciPy's optimizer indicates difficulty finding the optimum.</p> <p>Parameters are optimized using SLSQP.</p> </dl> <dl class=method > <dt id=arch.univariate.LS.fix > <code class="sig-name descname">fix</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >first_obs=None</em>, <em class=sig-param >last_obs=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.LS.fix" title="Permalink to this definition">¶</a> <dd><p>Allows an ARCHModelFixedResult to be constructed from fixed parameters.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>{ndarray</em><em>, </em><em>Series}</em>) -- User specified parameters to use when generating the result. Must have the correct number of parameters for a given choice of mean model, volatility model and distribution.</p> <li><p><strong>first_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- First observation to use when fixing model</p> <li><p><strong>last_obs</strong> (<em>{int</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>datetime</em><em>, </em><em>Timestamp}</em>) -- Last observation to use when fixing model</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>results</strong> -- Object containing model results</p> <dt class=field-odd >Return type <dd class=field-odd ><p><a class="reference internal" href="introduction.html#arch.univariate.base.ARCHModelFixedResult" title=arch.univariate.base.ARCHModelFixedResult >ARCHModelFixedResult</a></p> </dl> <p class=rubric >Notes</p> <p>Parameters are not checked against model-specific constraints.</p> </dl> <dl class=method > <dt id=arch.univariate.LS.resids > <code class="sig-name descname">resids</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >y=None</em>, <em class=sig-param >regressors=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.LS.resids" title="Permalink to this definition">¶</a> <dd><p>Compute model residuals</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Model parameters</p> <li><p><strong>y</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative values to use when computing model residuals</p> <li><p><strong>regressors</strong> (<em>ndarray</em><em>, </em><em>optional</em>) -- Alternative regressor values to use when computing model residuals</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>resids</strong> -- Model residuals</p> <dt class=field-odd >Return type <dd class=field-odd ><p>ndarray</p> </dl> </dl> <dl class=method > <dt id=arch.univariate.LS.simulate > <code class="sig-name descname">simulate</code><span class=sig-paren >(</span><em class=sig-param >params</em>, <em class=sig-param >nobs</em>, <em class=sig-param >burn=500</em>, <em class=sig-param >initial_value=None</em>, <em class=sig-param >x=None</em>, <em class=sig-param >initial_value_vol=None</em><span class=sig-paren >)</span><a class=headerlink  href="#arch.univariate.LS.simulate" title="Permalink to this definition">¶</a> <dd><p>Simulates data from a linear regression, AR or HAR models</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>params</strong> (<em>ndarray</em>) -- Parameters to use when simulating the model. Parameter order is [mean volatility distribution] where the parameters of the mean model are ordered [constant lag[0] lag[1] ... lag[p] ex[0] ... ex[k-1]] where lag[j] indicates the coefficient on the jth lag in the model and ex[j] is the coefficient on the jth exogenous variable.</p> <li><p><strong>nobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Length of series to simulate</p> <li><p><strong>burn</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) -- Number of values to simulate to initialize the model and remove dependence on initial values.</p> <li><p><strong>initial_value</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- Either a scalar value or <cite>max(lags)</cite> array set of initial values to use when initializing the model. If omitted, 0.0 is used.</p> <li><p><strong>x</strong> (<em>{ndarray</em><em>, </em><em>DataFrame}</em><em>, </em><em>optional</em>) -- nobs + burn by k array of exogenous variables to include in the simulation.</p> <li><p><strong>initial_value_vol</strong> (<em>{ndarray</em><em>, </em><em>float}</em><em>, </em><em>optional</em>) -- An array or scalar to use when initializing the volatility process.</p> </ul> <dt class=field-even >Returns <dd class=field-even ><p><strong>simulated_data</strong> -- DataFrame with columns data containing the simulated values, volatility, containing the conditional volatility and errors containing the errors used in the simulation</p> <dt class=field-odd >Return type <dd class=field-odd ><p>DataFrame</p> </dl> <p class=rubric >Examples</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>
<span class=gp >&gt;&gt;&gt; </span><span class=kn >from</span> <span class=nn >arch.univariate</span> <span class=k >import</span> <span class=n >HARX</span><span class=p >,</span> <span class=n >GARCH</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx</span> <span class=o >=</span> <span class=n >HARX</span><span class=p >(</span><span class=n >lags</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >5</span><span class=p >,</span> <span class=mi >22</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx</span><span class=o >.</span><span class=n >volatility</span> <span class=o >=</span> <span class=n >GARCH</span><span class=p >()</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >harx_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mf >0.2</span><span class=p >,</span> <span class=mf >0.3</span><span class=p >,</span> <span class=mf >0.4</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >garch_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mf >0.01</span><span class=p >,</span> <span class=mf >0.07</span><span class=p >,</span> <span class=mf >0.92</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >concatenate</span><span class=p >((</span><span class=n >harx_params</span><span class=p >,</span> <span class=n >garch_params</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >harx</span><span class=o >.</span><span class=n >simulate</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=mi >1000</span><span class=p >)</span>
</pre></div> </div> <p>Simulating models with exogenous regressors requires the regressors to have nobs plus burn data points</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=n >nobs</span> <span class=o >=</span> <span class=mi >100</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >burn</span> <span class=o >=</span> <span class=mi >200</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >random</span><span class=o >.</span><span class=n >randn</span><span class=p >(</span><span class=n >nobs</span> <span class=o >+</span> <span class=n >burn</span><span class=p >,</span> <span class=mi >2</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >x_params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mf >1.0</span><span class=p >,</span> <span class=mf >2.0</span><span class=p >])</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >params</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >concatenate</span><span class=p >((</span><span class=n >harx_params</span><span class=p >,</span> <span class=n >x_params</span><span class=p >,</span> <span class=n >garch_params</span><span class=p >))</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >sim_data</span> <span class=o >=</span> <span class=n >harx</span><span class=o >.</span><span class=n >simulate</span><span class=p >(</span><span class=n >params</span><span class=p >,</span> <span class=n >nobs</span><span class=o >=</span><span class=n >nobs</span><span class=p >,</span> <span class=n >burn</span><span class=o >=</span><span class=n >burn</span><span class=p >,</span> <span class=n >x</span><span class=o >=</span><span class=n >x</span><span class=p >)</span>
</pre></div> </div> </dl> </dl> <h2 id=writing-new-mean-models >Writing New Mean Models<a class=headerlink  href="#writing-new-mean-models" title="Permalink to this headline">¶</a></h2> <p>All mean models must inherit from :class:ARCHModel and provide all public methods. There are two optional private methods that should be provided if applicable.</p> <dl class=class > <dt id=arch.univariate.base.ARCHModel > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.base.</code><code class="sig-name descname">ARCHModel</code><span class=sig-paren >(</span><em class=sig-param >y=None</em>, <em class=sig-param >volatility=None</em>, <em class=sig-param >distribution=None</em>, <em class=sig-param >hold_back=None</em>, <em class=sig-param >rescale=None</em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/base.html#ARCHModel"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.base.ARCHModel" title="Permalink to this definition">¶</a> <dd><p>Abstract base class for mean models in ARCH processes. Specifies the conditional mean process.</p> <p>All public methods that raise NotImplementedError should be overridden by any subclass. Private methods that raise NotImplementedError are optional to override but recommended where applicable.</p> </dl> </article> </div> </div> </main> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> <a href=univariate_volatility_scenarios.html  title=Material  class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev > <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Previous </span> Volatility Scenarios </span> </div> </a> <a href=volatility.html  title=Admonition  class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next > <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Next </span> Volatility Processes </span> </div> <div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2019, Kevin Sheppard. </div> Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a></div> </div> </div> </footer> <script src="../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script> </div>